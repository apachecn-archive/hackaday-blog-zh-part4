# 新年习惯——你为数据存储做了什么？

> 原文:[https://hackaday . com/2020/01/20/new-year-habits-what-do-you-do-for-data-storage/](https://hackaday.com/2020/01/20/new-year-habits-what-do-you-do-for-data-storage/)

2020 年是反思和避免遗憾的一年，我们都知道我们应该做得更好的最大实践之一是备份我们的数据。不可避免地会有腐败或事故，我们哀悼一些有价值的数据的损失，并发誓永远不会让它再次发生，然后迅速忘记良好的数据保留做法。

我相信生活就是获取记忆，所以对我来说，尝试存档和存储这些记忆是有意义的，以便我可以在以后反思它们，但数据存储和管理是一个巨大的痛苦。肯定有更好的方法(提示笨拙的人厌恶地举起手臂的黑白视频)。

## 你那里的云很好；如果它出了什么事就太遗憾了

本世纪的青少年见证了向云存储的巨大转变。即时备份文件和使用云作为所有设备的主存储的优势很有吸引力。现在通过云传输文件比通过电缆更容易。有了 Google Docs 和 WordPress，我们可以将最重要的文档和文字作为数据库 blobs 存储在别人的服务器上。脸书、谷歌和 Flickr 将我们所有的记忆记录为相册。无限存储是常见的，索引是如此之好，以至于我们可以找到对其内容有模糊描述的照片。

这些东西可以立即获得，但缺乏持久性。在鞋盒里发现的剪报和印刷照片不见了。当我们无法控制这些服务时，它们会在没有任何警告的情况下消失。甚至一些大的产品已经打包，让人们在服务器关闭前争先恐后地备份数据。 [Google Plus 关闭](https://support.google.com/plus/answer/9195133?hl=en)，[雅虎集团关闭](https://help.yahoo.com/kb/SLN31010.html)， [MySpace 失去了 2016 年之前创作的所有内容](https://www.nytimes.com/2019/03/19/business/myspace-user-data.html)， [GeoCities 于 2009 年关闭](https://en.wikipedia.org/wiki/Yahoo!_GeoCities)， [Ubuntu One 于 2014 年关闭](https://wiki.ubuntu.com/UbuntuOne)。可以肯定地说，没有任何在线内容可以被删除。可以肯定地说，云存储是一个很难提取数据的地方。

由于数据泄露和隐私侵犯的风险每天都在发生，所以可以肯定地说，你的一些文件可能一开始就不应该存储在云中。那么，我们如何做好，如何养成定期做的习惯呢？

## 口头禅:一个本地存储备份就能统治一切

![](../Images/a48a38349be8b371b5bdf9d61ef1a3e6.png)

我认为解决方案是针对所有内容的单一备份策略，即每隔一段时间将所有内容合并到一个位置，并在该合并上执行备份过程。为此，我的大多数文件都是按子文件夹组织的，并存储在与我的本地路由器相连的外部硬盘上。这被称为 n as(网络附加存储)方案，已经存在了大约 40 年。这在当时是一个伟大的想法，今天依然如此。

我的所有设备都可以访问它，这实质上给了我云的好处(嗯，更像是雾，因为它离我很近)，但存储在我自己的硬件上。我有关于项目、工作、税收和照片等的文件夹，子文件夹在这些文件夹下延伸了很多层。

## 那些拇指驱动器是最新的吗？

![bowl of thumb drives](../Images/7072810b162f98a9e1f041c053d051d5.png)

A bowl full of thumb drives.

我们仍然一直使用拇指驱动器，对文件进行快速更改，但不删除文件，现在我们已经有了一个装满拇指驱动器的碗，其中的文件夹与原始文件夹略有不同，但我们没有时间来协调这些差异。如果我假设 u 盘上的任何东西已经存在于我的其他设备上，并且 u 盘只是用于文件传输的临时存储介质，那么当我需要 u 盘时，我不会因为删除内容而感觉很糟糕。它们不会得到备份，因为它们不是文档的原始来源。

我建议你跟着我。拇指驱动器本质上缺乏持久性，应该被视为数据的暂存区，而不是存档的石板。

## 收集您的设备

我有一台笔记本电脑、一台台式机、一台平板电脑和一部手机，这意味着四个不同的设备流都需要备份。当我不在网络上时，有些项目文件可能存储在本地，将这些项目与我的主 NAS 存储同步有时很棘手。

在新年，我将本地桌面配置文件中的所有内容复制到 NAS 上。随着年底的临近，这留下了一个漏洞，一年的工作没有备份，但总比没有好。很难决定将什么放入 NAS 用户档案中的所有东西都被移动了吗，包括应用程序的安装程序、下载文件夹、bash 历史记录？我的计算机上运行的服务的设置如何？

我一直很懒，因为我认为如果发生灾难，这将是一个从头开始的机会，而不是重建一个有多年熵值和旧应用程序的环境。对于运行服务和配置可能至关重要的业务备份来说，这是一个坏主意，但对于更具实验性和临时性的个人服务器来说，这并不重要。

## 电子邮件:保存联系人和信件

备份邮件是有争议的，但对我来说很重要。如此多的附件和文章都是通过这种媒介发送的，为消极进取的“看这封去年的电子邮件，我已经回答了你的问题”保留线索是令人满意的，但也有许多无用的垃圾，在几天内无关紧要，投入任何额外的时间或精力或存储会适得其反。我所有的账户都用雷鸟。这样做的好处是可以在本地存储所有电子邮件，包括我所有的 Gmail 和其他账户。这个 Thunderbird 配置文件存储在外部硬盘上，所以备份我的邮件不需要额外的努力。

## 域、存储库和社交媒体

对于我拥有的每个网络域名，我可以到控制面板下载所有文件内容和数据库的 zip 文件。对于复杂的 AWS 设置来说，这并不容易，因为数据和设置是跨多个服务存储的。我设想可以设置“wget-mirror”来从远程位置复制内容，但是我仍然需要捕获数据库内容。

在理想世界中，我所有的项目都在版本化的存储库中，备份到 git 服务器上，本地副本也是完整的。这使它成为已经保存的本地存储的一部分。如果您没有这些存储库的副本，在本地克隆它们可能是明智的。因为我所有的项目都在我的 NAS 上的项目文件夹中，所以我在这里也没有任何额外的工作。但是，在备份系统之前，最好确保所有设备上的存储库都是最新的。

当欧洲通过 [GDPR](https://en.wikipedia.org/wiki/General_Data_Protection_Regulation) 时，该法律的要求之一涉及[数据可移植性](https://gdpr-info.eu/art-20-gdpr/)，特别呼吁人们能够下载与他们相关的数据。这使得许多网站很容易就能获得包含所有内容的 zip 文件。脸书允许你[下载你自己的数据](https://www.facebook.com/settings?tab=your_facebook_information)，这很好。你只能下载你自己的照片，但是不能下载别人拍摄和上传的你的照片。我希望有更好的解决办法。我想保存别人给我拍的照片；不是侵犯版权，而是保存记忆。我也希望有办法拯救我的 Hackaday.io 项目。虽然我所有的原始文件都存储在我的本地项目文件夹中，但记录和日志却没有。不过，这是另一个类别，目标是下载所有内容的 zip 文件，并将其保存到 NAS。

## 照片

在[脸书](https://www.ubergizmo.com/how-to/download-facebook-photos/)、 [Instagram](https://www.thesun.co.uk/tech/6137451/how-to-download-instagram-photos-all/) 、 [Flickr](https://help.flickr.com/download-photos-or-albums-in-flickr-HJeLjhQskX) 、 [Google Photos](https://www.online-tech-tips.com/google-softwaretips/download-google-photos-pictures-videos/) 和 [iCloud](https://support.apple.com/hr-hr/HT204055#photos) 以及其他人当中，我们可能每个人都有大量照片在网络上传播。诀窍不仅在于下载这些照片，还在于确保你没有在其他地方存储副本。幸运的是，每个都有下载内容的方法。有工具可以找到并删除重复的文件，但由于我的驱动器上有数兆字节的存储空间，到目前为止修剪数据的工作已经超出了我的需要。

## 聚合和存储

![backup solution](../Images/22ebc3e0df87ce04fe109c3f9cabf46d.png)

A backup solution that includes downloading all content onto a single NAS, then backing that NAS up to another drive, then rotating the drives out.

我总共有三个 5TB 的硬盘。一个日常用，两个备用。其中一本是最近一年的，存放在朋友家。另一本是 2 年前的，存放在我家。在新的一年，我拿走旧的并擦除它，然后将每天的拷贝到它上面并旋转驱动器，将当前的移动到异地，将异地的带回来，并将最旧的(现在有最新的拷贝)转到主驱动器。这样，我总是将一年或不到一年的文件备份存储在其他地方，以防发生火灾或洪水等本地紧急情况，并将一个不到两年的备份存储在日常和外部备份的灾难性故障中。我通过将备份的驱动器作为主驱动器来验证我的备份，这也有助于更均匀地磨损所有驱动器。

## 更好的选择？

他们说，除非经过测试，否则备份就不是备份，我只需要看几次备份就能找到丢失的文件。但是我的解决方案不是最好的。我知道，即使我已经捕获了备份中的所有内容(我希望如此),数据库文件中仍有一些有价值的内容需要数据档案管理员花很长时间才能发现。我的解决方案没有被索引或编目，有各种各样的重复，并且东西被存储在奇怪的地方。这也很耗时，这就是为什么我每年只进行一次备份，并且在下一次备份之前的一年中的晚些时候，数据丢失的风险就越大。

有人信誓旦旦的说 RAID 是为了数据冗余，但那跟数据备份不一样。十多年前，我们[讨论了 NAS 选项](https://hackaday.com/2008/07/05/hackit-network-attached-storage/),但情况已经发生了很大变化。哪些软件工具或自动化脚本使下载特殊数据的过程更容易或更有效？

## 创造遗产

一个朋友最近去世了，人们争相寻找他生活的照片和亮点。这让我想知道我的遗产会发生什么，它主要分散在服务器上，集中在 3 个硬盘上，很难搜索。我可能不会被未来的历史学家研究，而管理我生活中的数字内容只对我和我身边的几个人很重要，所以有一个问题是要付出多少努力。因此，在新的十年开始时，有了比我开始这种模式时更多的选择，我向社区征求关于个人数据存储和管理的建议。