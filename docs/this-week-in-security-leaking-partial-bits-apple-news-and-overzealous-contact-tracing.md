# 本周安全:泄露部分信息，苹果新闻，和过分热心的联系追踪

> 原文：<https://hackaday.com/2020/05/29/this-week-in-security-leaking-partial-bits-apple-news-and-overzealous-contact-tracing/>

NCCGroup 的研究人员一直致力于针对内核事务管理器(KTM)的 Windows 内核漏洞的 5 部分解释[。该漏洞 CVE-2018-8611 是一个本地权限提升漏洞。似乎没有办法远程利用这一点，但这是一个有趣的错误，NCCGroup 在这方面的工作非常出色。](https://research.nccgroup.com/2020/04/27/cve-2018-8611-exploiting-windows-ktm-part-1-5-introduction/)

他们首先介绍了 KTM 的一些背景知识，以及为什么要使用它。接下来是一个方便的反向工程微软补丁指南。从那里，他们描述了竞争条件和如何实际利用它。他们在这个系列中涵盖了广泛的领域，所以去看看吧。

### 左图 4 死亡 2

提醒一下，错误总是出现在你最意想不到的地方，[Hunter Stanton]分享了他在流行的 Valve 游戏《Left4Dead 2》中发现代码执行错误的故事。由于游戏的代码无法查看，他决定走模糊化的路线。他采取的具体方法是模糊导航网格数据，这是每个游戏地图中包含的数据的一部分。让基本的 Fuzzing 框架(BFF)运行三天，出现了一些可能的崩溃，最有希望的结果是具有代码执行潜力。[Hunter]通过 Valve 的 HackerOne bug 赏金程序提交了这个发现，并获得了一万美元的赏金。

虽然不是直接的 RCE，但[Hunter]确实指出恶意的网格数据可能会随 Steam workshop 上的可下载地图一起分发。或者，应该可以设置一个假的游戏服务器来分发陷阱地图。

### 老大哥苹果？

安全和隐私之间一直存在矛盾。我们已经习惯了政府为了安全而放弃隐私的说法，但是同样的权衡也会出现在计算机安全上。在这种情况下，苹果已经对 macOS Catalina 系统运行的每一个可执行文件进行了在线检查。如果你运行的是 macOS 10.15，你可能已经注意到[你的系统比预期的](https://sigpipe.macromates.com/2020/macos-catalina-slow-by-design/)要慢一些。看起来，当连接到互联网时，一台现代的 Mac 电脑会将每个二进制文件的散列上传到苹果电脑，大概是为了对照已知恶意软件的黑名单进行检查。

讨论这个问题的 Reddit 帖子有一些更有趣的观察。首先，一位用户指出，他在飞行时观察到了这个问题，并连接到了糟糕的机上 wifi。第二个发帖者注意到，当连接到没有互联网接入的网络时，Mac 将花费过多的时间来重新启动。

虽然可能有好处，但这种方法对性能和用户隐私来说是可怕的，并且破坏了苹果和他们的用户之间的信任。如果他们想利用这些数据赚钱，苹果现在已经有了哪些用户在何时运行哪些二进制文件的记录。这种行为至少应该被记录下来，并为那些不想参与的人关闭开关。它被互联网侦探发现的事实对苹果来说是一个耻辱。

### 梯子漏水

25 日 ( [PDF](https://eprint.iacr.org/2020/615.pdf) )发表了一篇对某些 ECDSA 方案的有趣攻击[。这种攻击是专门针对 OpenSSL 开发的，它使用 Flush+Reload 缓存攻击来泄漏椭圆曲线运算的计算信息。在某个时候，我们将深入研究椭圆曲线加密，但是现在，理解为了进行密钥交换而重复执行数学运算就足够了。](https://eprint.iacr.org/2020/615)

对于每一次迭代，研究团队都能够提取大约一点关于密钥内部状态的信息。(技术上说不到一位，既然是统计攻击。)在执行数据收集之后，需要相当密集的 CPU 处理来计算密钥。在这一点上，这不是一种特别实用的攻击，但是对于受影响的项目来说，防范这种攻击仍然很重要。

充分欣赏他们的作品所需的数学是相当激烈的，但如果那是你的事情，它就在那里被欣赏。对于我们其他人来说，知道我们的算法受到好人的监督是件好事。结果我们都赢了。

### iOS 越狱

过去几周，iOS 安全领域一直处于混乱状态。不久前，iOS 漏洞利用还是安全研究的圣杯，但就在最近，零日供应商 Zerodium 已经停止接受 iOS 零日，因为他们有太多的零日。

> 在接下来的 2 到 3 个月内，我们将不会收购任何新的苹果 iOS LPE、Safari RCE 或沙盒逃脱，因为有大量的提交与这些载体相关。没有持久性的 iOS 一键式链接(例如通过 Safari)的价格可能会在不久的将来下降。
> 
> —zero dium(@ zero dium)[2020 年 5 月 13 日](https://twitter.com/Zerodium/status/1260541578747064326?ref_src=twsrc%5Etfw)