# 问 Hackaday:电子邮件越大越好吗？

> 原文：<https://hackaday.com/2022/06/13/ask-hackaday-is-bigger-e-mail-better/>

尽管专家们通常会预测电子邮件的终结，但我们仍然会收到大量的电子邮件，我们打赌你也一样。电子邮件已经存在很长一段时间了，在过去，能够向每个人发送一封询问他们想去哪里吃午餐的短信是一项非常高科技的技术。那时我们电脑上的东西也大不相同。想想阿帕网上的第一封电子邮件是在 1971 年。当时有些人有硬拷贝终端。图形是不寻常的，你的主存储可能是你目前桌上最小的闪存驱动器的一小部分。没有人发送照片、视频或巨大的 PDF 文件。

今天，情况不同了。我们的计算机有千兆字节的内存和兆兆字节的存储空间。我们生产和消费格式丰富的文档、高分辨率照片，甚至视频。自然，我们希望与他人分享这些文件，然而电子邮件却少得可怜。当然，一些系统会提供将你的大文件存储在云中并发送一个链接，但是通过电子邮件将几兆字节的视频发送给你在城市另一边的朋友更有可能失败。为什么？

## 电子邮件的生命

正如你所料，这部分是由于历史文物。这个系统不是用来处理你最近的度假视频的。更重要的是，电子邮件意味着可以在各种各样的系统上广泛地互操作。当然，如今，你的电子邮件不太可能通过连接两个遥远前哨站的双绞线传输，但有可能。

要理解这些限制的起源，你必须知道电子邮件是如何度过它的一生的。这比你想象的要复杂得多。今天，邮件通过一种叫 SMTP 的协议传输——简单邮件传输协议。让我们先从简单的案例开始。

![](img/2d0d4d55a03a14c97cc68473961c81ed.png)

让我们假设我们有一个 Hackaday.com 的电子邮件地址，并且我们运行我们自己的电子邮件服务器(我们没有，但是跟我来一下)。用户连接到 SMTP 服务器，向 Hackaday.com 的另一个地址发送电子邮件。那很简单。服务器认识到它是电子邮件的最终目的地，所以它接受并发送电子邮件。交付是什么意思？这要视情况而定，但这通常意味着放入一些文件，用户将通过邮件程序或其他类型的服务器(如 POP3 或 IMAP)进行检查。但是对于我们的目的来说，这意味着邮件被放在用户可以找到的地方。

一个稍微困难一点的情况是，比如说，来自 wd5gnr.com 的某人想要向 Hackaday 的某人发送电子邮件(同样，假设该域正在处理它自己的电子邮件，这不像过去那样常见)。在这种情况下，用户连接到他们自己的 SMTP 服务器。它意识到@hackaday.com 是一个陌生的电子邮件地址(可能不止一种方式)，并在 DNS 目录中查找该域。DNS 中的记录之一(MX 记录)是域的邮件服务器地址。wd5gnr.com 的 SMTP 服务器然后将邮件发送到 hackaday.com，后者将实际进行传递。

## 然后……？

仅此而已，对吗？不完全是。如今，DNS 条目更有可能指向某个服务，如 Gmail 服务器或其他一些实际接受电子邮件的托管公司。可能发送者也连接到某个供应商的服务器上。因此，也许发件人连接到 Zoho 的 SMTP 服务器，然后连接到 Gmail 服务器来发送邮件。

更复杂的是当你进入私人网络时。如果 wd5gnr 网络位于防火墙之后，可能无法直接联系 Hackaday 服务器，不管它在哪里。然后呢？SMTP 服务器可以在一个接口上接受邮件，然后将其转发到另一个服务器。这可能会持续一段时间。例如，wd5gnr 服务器可能会将所有内容转发给 Gmail，然后 Gmail 会找到主 Hackaday 服务器，该服务器会进一步将其发送给特定用户所在地区的内部邮件服务器。

这听起来可能有点牵强，但这种事情经常发生。例如，您可能在海上的一艘船上，与卫星链路的连接时断时续。服务器可能会收集电子邮件并等待与卫星的连接。然后，它通过卫星链路将邮件发送到服务器，服务器会负责将邮件发送到真实的网络。

你可以看到为什么电子邮件已经如此成熟的利用。早期的服务器允许任何人连接，甚至可以尝试为任何人转发邮件。当然，垃圾邮件改变了这一切，现在开放中继已经很少见了。一些 SMTP 服务器甚至拒绝来自已知开放服务器的邮件。作为一种审查形式，这在某些圈子里是有争议的，但现在大多数服务器会要求你进行身份验证，并且只接受发往某些未经身份验证的域的电子邮件。也有越来越多的服务器检查一个 [SPF 记录](https://datatracker.ietf.org/doc/html/rfc4408),以确保一个服务器被认为处理特定域的邮件。 [DKIM](https://datatracker.ietf.org/doc/html/rfc6376) 更进一步，使用加密签名。

## 历史的重量

因此，事实上，如今邮件很少离开网络或通过开放的中继，关键是它可以。这有什么关系？让我们回到海上船只的问题上来。船上的服务器可能不得不将我们的电子邮件编码成某种古怪的格式或者进行压缩。卫星地面站可能只通过 UUCP 发送电子邮件，这需要做进一步的处理。因此，大型电子邮件不仅仅是一个网络带宽问题。服务器可能需要处理和转换文件。因此，SMTP 可能需要 7 位 ASCII 码，这对于文本来说是很好的。但是对于任何新奇的东西，消息(包括附件)使用类似于由 MIME(多用途互联网邮件扩展)指定的 base 64 编码进行编码。这也意味着您的附件在编码后可能会变得更大。

即使是完全连接的主机也可能需要处理电子邮件。例如，检查垃圾邮件或病毒负载是很常见的。因此，即使有无限的网络带宽，仍然存在与大型附件相关的处理开销。

诚然，如今处理能力也不短缺，但有些邮件服务器可能不是非常先进，而另一些可能会受到数百万封电子邮件的攻击，其中许多是垃圾邮件。

## 问黑客日

如何发送大文件？电子邮件应该包含更大的文件吗？你认为电子邮件会过时吗？被什么取代了？怎么会更容易呢？有像[wet transfer](https://wetransfer.com)和 [SendAnywhere](https://send-anywhere.com) 这样的服务，但是老实说，我们更可能只是把一个文件上传到我们的一个服务器上，然后通过这种方式发送一个链接。总会有像 Dropbox、Drive 或 iCloud 这样的云存储。

自从信鸽问世以来，我们已经走过了漫长的道路。然后，也许你的邮件也在网络上传输。如果您想更深入地了解 SMTP，请查看下面来自爱荷华州立大学的视频。

 [https://www.youtube.com/embed/x28ciavQ4mI?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/x28ciavQ4mI?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)

