# 钢琴精灵训练了一个神经网络来演奏带有 8 个拱廊按钮的 88 键钢琴

> 原文：<https://hackaday.com/2018/10/27/piano-genie-trained-a-neural-net-to-play-88-key-piano-with-8-arcade-buttons/>

想只用你的编码技巧在钢琴上弹奏出美妙的声音吗？进入[钢琴精灵](https://magenta.tensorflow.org/pianogenie)，这是谷歌人工智能和 DeepMind 的一个研究项目的成果。你按下八个按钮中的任何一个，神经网络就会确保钢琴演奏出很酷的东西——实时补偿已经演奏过的东西。

几乎任何一个刚接触音乐的人，只要坐在钢琴前，都会发出类似于猫在厨房乱糟糟的锅里追老鼠的声音。鉴于摆在他们面前的 88 把莫名其妙的钥匙的海洋，谁能责怪他们呢？但他们会很快意识到，在一个方向上连续弹奏按键会产生音调不断升高或降低的声音。他们还会学到按不同长度的键可以改善旋律。但是仍然有 88 个键，还有很多需要学习，比如哪些键在一起演奏时听起来会很和谐。

有了 Pinao Genie，令人生畏的 88 个按键不见了，取而代之的是一个 3D 打印的盒子，里面有八个街机风格的按钮，它们是按照[这个 Adafruit 教程](https://learn.adafruit.com/arcade-button-control-box/overview)制作的。神经网络将这八个按钮映射到 88 键钢琴键盘上有意义的东西。作为一个神经网络，映射不是固定的一对一甚至一对多。相反，它被训练演奏一些应该听起来不错的东西，考虑到以前演奏过的东西，不一定每次都一样。

为了训练它，他们使用了来自国际钢琴电子竞赛的大约 1400 场表演的数据。正如你在下面的视频中所看到和听到的，结果可能相当不错。这些按钮被输入电脑，但电脑会在真正的钢琴上演奏出结果。

对于训练，神经网络实际上由两个网络组成。一个是编码器，在这种情况下是一个递归神经网络(RNN ),它获取钢琴序列并学习输出向量。在图中，向量位于中间，八个按钮中的每一个都有一个元素。第二个网络是解码器，也是 RNN。它被训练成将八元素向量转换成输入编码器的同一首音乐。

一旦被训练，只有解码器被使用。八键键盘输入向量，解码器输出合适的音符。他们是 rnn 的事实意味着，网络不是学习一个固定的一对多映射，而是考虑以前播放的内容，以便想出一些听起来令人愉快的东西。为了给用户更多一点创造性的控制，他们还训练它意识到用户何时播放上升或下降的旋律，并输出相同的旋律。见[他们的论文](https://arxiv.org/pdf/1810.05246.pdf)关于如何把复音变成单音，然后再变回单音。

如果你喜欢不同风格的音乐，你可以使用他们的开源模型在你自己选择的 MIDI 集合上训练它。或者你可以通过他们的网络界面尝试一下现在的[。我承认，我开始只是敲打它，产生的噪音和我在钢琴上随意敲打产生的噪音一样。然后我转而考虑制作旋律，结果开始听起来更好。所以一些音乐背景和练习还是有帮助的。对于下面的视频，研究人员承认已经玩了几个小时。](https://tensorflow.github.io/magenta-demos/piano-genie/)

这不是我们这些谷歌研究人员报道的第一个项目。另一个是再次使用神经网络的音乐合成器，但这次用的是树莓派。如果我们对循环神经网络的讨论超出了你的理解，看看[我们对神经网络的概述](http://hackaday.com/2017/06/08/from-50s-perceptrons-to-the-freaky-stuff-were-doing-today/)。

 [https://www.youtube.com/embed/YRb0XAnUpIk?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/YRb0XAnUpIk?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)

