# 天文天井灯计时器

> 原文:[https://hack aday . com/2021/06/30/astronomic-patio-light-timer/](https://hackaday.com/2021/06/30/astronomic-patio-light-timer/)

不满足于户外庭院灯的手持遥控器，[timabram]决定用 ESP8266 制作一个[自动定时器。他使用的是一组来自好市多的灯串，但是当你深入研究他的项目时，你会发现他使用的方法几乎可以应用到任何一组带遥控器的灯上。](https://hackaday.io/project/180482-string-light-automated-timer)

他通过将来自 ESP8266 GPIO 的 GPIO 引脚连接到遥控器来模拟用户按下按钮。两块电路板一起封装在一个 3D 打印的外壳中，该外壳利用遥控器的前部，因此手动操作仍然是可能的。

![](../Images/375986ca4709ab4abf106859454577c1.png)

他的固件从 NTP 服务器获取日期和时间，然后对一个在线服务进行 API 调用，返回特定位置的当地日出和日落时间。他尝试通过不同的时间间隔从深度睡眠中唤醒并 ping 时间服务器来最小化功耗。但最终，他意识到射频遥控器的传输距离相当远，于是将该装置安装在一个壁橱内，通过连接到电源的适配器为其供电。

我们想知道遥控器如何知道灯是开着还是关着，并且[timabram]指出这是一个缺点，可以在未来的版本中解决。如果你曾经见过一个天文定时器开关的机械版本，充满了齿轮，转盘和设置引脚，你真的可以欣赏像这个项目的无移动部件的解决方案。如果你想做一个不使用互联网的，看看我们在 2013 年写的这个基于 Arduino 的解决方案。