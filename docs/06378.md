# Sed 调试——不是开玩笑

> 原文:[https://hack aday . com/2020/04/24/debugging-for-sed-no-killing/](https://hackaday.com/2020/04/24/debugging-for-sed-no-kidding/)

如果您经常编写 Linux shell 脚本，您可能会在一个例子中遇到过`sed` —流编辑器。也许你自己也用过。如果你想做的只是替换文本，这是很容易和有效的。但是如果你试图做真正精细的编辑，通常很难把事情做好。语法晦涩，文档缺乏。但是多亏了[SoptikHa2]，你现在可以用基于文本的 GUI 调试器调试 sed 脚本。说真的。

据作者称，该方案有几个显著特点:

*   预览变量值，两个都有！
*   查看替代命令在运行前如何影响模式空间
*   向前和向后浏览`sed`脚本！
*   放置断点并检查程序状态
*   热重装，看看你编辑源代码时发生了什么变化
*   它的名字是一个回文

最后一个特征只有一个词:哇。

老实说，如果我们有繁重的工作，我们更有可能使用`awk`或 Perl，但是我们知道这对许多任务来说是很大的开销。能够看到`sed`内部真正发生的事情可能会让我们在未来与`sed`一起做事时不那么沉默寡言。

代码在 Rust 中，它使用了一直在`sed`中的调试接口。谁知道呢？如果你想了解更多的细节，作者[有一篇关于这个项目的博客文章](https://soptik.tech/articles/building-desed-the-sed-debugger.html)，会提供一些细节。内置的调试接口为您提供了许多内部状态信息，但是忽略了一件事:正在执行的命令。因此调试器必须模拟部分`sed`来跟踪正在执行的语句。

如果您需要调试脚本的剩余部分[，请放松。或者，尝试](https://hackaday.com/2019/12/11/linux-fu-debugging-bash-scripts/)[在第一时间避开 bugs】。](https://hackaday.com/2017/03/29/lint-for-shell-scripters/)