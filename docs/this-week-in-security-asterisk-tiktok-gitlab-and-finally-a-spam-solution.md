# 本周安全:星号，抖音，Gitlab，最后是一个垃圾邮件解决方案

> 原文：<https://hackaday.com/2022/07/22/this-week-in-security-asterisk-tiktok-gitlab-and-finally-a-spam-solution/>

有一场正在进行的运动正在危害全世界的免费电话交换系统。它似乎是专门针对 Elastix 系统的，使用了 CVE-2021-45461，这是去年 12 月的一个非常讨厌的远程代码执行(RCE)。这个缺陷是一个 0 天，因为它是通过分析一个受损的免费电话交换机系统发现的。目前还不清楚上周的报告中描述的活动[是否使用了 12 月的 0 天，或者它是否是由于公开披露该漏洞而发起的。](https://unit42.paloaltonetworks.com/digium-phones-web-shell/)

无论如何，CVE 是发送到 Rest Phone Apps 服务的 URL 参数。该模块旨在直接在 VoIP 电话的屏幕上运行，并允许最终用户设置免打扰等功能，而无需输入星号代码或访问网页。由于用例的原因，任何支持从网络外部连接的 VoIP 电话的 FreePBX 部署，使用这个特性，都需要打开这些端口。确保这一点的最佳方式是通过 VPN 强制连接，只有一些手机本身支持 VPN。

在发现一个易受攻击的端点后，该活动开始于在几个位置放置一个 webshell，所有这些位置的混淆略有不同。然后，它创建多个根级用户帐户，并添加一个 Cron 作业来维护访问。在这个恶意软件家族中有惊人数量的混淆和隐藏功能，使得很难指出一个单一的危害指标。如果你运行的 FreePBX 系统可能有手机应用模块，是时候仔细检查一下了。

## 抖音怎么了？

联邦通信委员会再次要求抖音从谷歌 Play 商店和苹果应用商店中除名。抖音到底怎么了？只是一个拍摄分享傻逼视频的 app 吧？抖音本质上有两个潜在的问题，这两个问题都可以追溯到位于中国的应用母公司。

在美国，我们有国家安全信件，而中国似乎有一个更直接的系统，正如抖音信任和安全部门的一名成员所说的，“一切在中国都能看到”。抖音使用了相当多的权限，其中一些似乎有点过分热情。如果你是中国政府感兴趣的人，那些许可会被用来监视你吗？绝对的。就像一个基于美国的应用程序可以，作为一个国家安全信件的结果。

第二个问题有点微妙，可能会偏离阴谋论，但值得考虑。抖音有关于每一个可以想象的主题的视频，从每一个可能的角度。如果中国共产党(CCP)想要一个特定的谣言在美国获得牵引力会怎样？只要对视频推荐算法施加一点压力，就会让关于这个话题的视频成为趋势。即时舆论杠杆。

这里可能有一个缺失的部分，以一些机密情报的形式。直到足够长的时间过去，信息自由法案的要求可以解开故事的其余部分，这将是不清楚有多少抖音的威胁是合法的，有多少是地缘政治的争论。

哦，如果你认为你可以打开谷歌 Play 商店，看看抖音应用程序使用的确切权限，谷歌已经[做出了一个不幸的决定，隐藏权限](https://www.xda-developers.com/google-play-store-hides-permissions/)，直到你真正安装。这听起来是一个可怕的决定，在短暂的抗议之后，谷歌似乎同意了。就在这篇文章付印之前，谷歌宣布他们[收回这个决定](https://twitter.com/AndroidDev/status/1550134137104740352)。

## Gitlab RCE(核证的排减量)

Gitlab 在 7 月 4 日的小版本发布中修复了一个非常严重的问题，[nguyễn tiến·姜(张)]真的很想知道这是怎么回事。以至于他安装了一个可调试的 Gitlab，重现了这个问题，[带着我们一起上路](https://starlabs.sg/blog/2022/07-gitlab-project-import-rce-analysis-cve-2022-2185/)。该漏洞存在于导入现有 Gitlab 项目的过程中，该项目将档案名称直接附加到命令字符串中。如果您可以操作给定的存档名称的值，并避免任何旨在阻止它的检查，您可以轻松地插入将在底层服务器上运行的 shell 代码。避免陷阱是将它变成一个真正的概念验证的重要工作。阅读帖子，了解调试之旅的全部细节。

## 日历垃圾邮件终于修复

如果您错过了日历垃圾邮件这一祸害，那么您应该感到幸运。Google 日历非常棒，因为任何人都可以向您发送邀请电子邮件，活动会自动显示在您的日历上。回想起来，这显然会被用于垃圾邮件。不管怎样，在多年的垃圾邮件问题之后， [Google 终于推出了一项功能](https://www.bleepingcomputer.com/news/security/google-calendar-provides-new-way-to-block-invitation-phishing/)，只向你的日历添加来自已知发件人的邀请。现在，如果有人问你，或者你自己受到垃圾邮件的困扰，你知道在事件设置下查找，并更改设置。终于！