# 带一些额外技巧的 USB 温度记录器

> 原文:[https://hack aday . com/2022/03/07/USB-temperature-logger-with-some-extra-tricks/](https://hackaday.com/2022/03/07/usb-temperature-logger-with-some-extra-tricks/)

我们许多电子黑客类型倾向于在我们的工作台上至少有相同的通用设备，即万用表、示波器、某种可调电源，可能还有逻辑分析仪。这些都是涵盖许多基础的伟大工具，但处理温度测量往往被忽视。这种突然的需求通常会导致购买一个专用的测量单元，或者一些便宜的易贝热电偶板，只需几个黑客就能搞定。[Jana Marie Hemsing]需要测量事物的热面，厌倦了用成堆的木板进行黑客攻击，并为自己设计了一个适合这项任务的仪器。

结果是一个非常整洁的四通道热电偶前端，通过 USB 将数据输入主机。四个通道中的每一个都可以是 K 型输入或 NTC 热敏电阻输入，这在电路板组装时决定，但您可以只构建两个单元，每个单元有四个通道，覆盖所有基座。K 型热电偶输入基于 MAX31855 系列器件。虽然“KASA”后缀的设备可能是最常见的，但如果您需要专用一些通道来处理其他六种左右常见热电偶类型中的一种，只需适当的 MAX31855 型号即可。

对于控制器，[Jana]选择了常见的 STM32F0x 微控制器，它处理所有 USB 协议方面的事情。增加的额外功能允许通过 DRV8837 H 桥直接驱动加热器控制器，并为您可能需要驱动的其他设备提供额外的几个集电极开路输出。这允许记录器作为一种热 IO 设备。固件是用传统的 STM32 HAL 编写的，使用标准的 STM32CubeMX 和 GCC 工具链。看起来 Makefile 是通过 [STM32 项目生成器](https://gitlab.com/kadriane/stm32-project-generator)路径来的。固件也有一个巧妙的花招；只需轻触背面的开关，固件就可以在通过标准 USB CDC 链接(虚拟串行端口)输出 CSV 数据之间切换，或者它可以提供 SCPI 终端接口，从而集成到现有的 SCPI 测试流程中。干得好！

我们已经在这些公平的网页上看到了一些记录项目，像这个[电池供电的 ESP32 记录设备](https://hackaday.com/tag/datalogger/)。如果物联网日志更适合你，[给你](https://hackaday.com/2020/11/19/easy-iot-logging-options-for-the-beginner/)。