# 构建 3270 终端控制器

> 原文：<https://hackaday.com/2020/05/28/building-a-3270-terminal-controller/>

我们喜欢谈论我们今天的大多数计算机在不到 40 或 50 年前是如何成为大型机的。正因为如此，许多想运行 IBM 大型机如 IBM 360 或 370 的人使用 Hercules 仿真器在他们的 PC 上运行大铁。然而，大型 IBM 计算机使用一种奇怪的终端风格，在 PC 上模拟它并不总是令人满意的。至少，[lowobservable]是这么想的，所以他决定弄个[3270 终端和大力神](https://ajk.me/building-an-ibm-3270-terminal-controller)合作。

回到过去糟糕的计算机时代，有两种主要的终端。一些公司，例如 DEC，本质上使用终端作为“玻璃电传打字机”也就是说，屏幕或多或少类似于一卷纸，键盘会立即向远程系统发送信息。然而，像 IBM 和 HP 这样的公司倾向于一种不同的方法。他们的终端处理满屏的数据。该终端足够智能，可以让你填写表格，在屏幕上编辑文本，然后你可以一口气发送整个屏幕。这两种系统各有利弊，但是——正如你所料——面向屏幕的终端更加复杂。

这个项目结果是大量的侦查工作。许多这些旧的协议都没有很好的记录，甚至是秘密的。然而，一些旧接口芯片的数据表有一些细节，易贝甚至有芯片的问题。我们忘记了 3270 使用 93 欧姆同轴电缆，但我们从来不知道他们为什么选择这个特定的值。

原来有两种不同风格的终端。其中一个需要非常复杂的控制器来完成大部分工作。另一个在本地完成了大部分工作。不管怎样，主机只处理处理过的数据。幸运的是，[lowobservable]正在记录他在 [GitHub](https://github.com/lowobservable/coax/blob/master/protocol/protocol.md) 上学到的东西。

在项目开始时，[lowobservable]获得了一个多余的终端设备。然而，它有一个损坏的磁盘映像，所以它不会工作。然而，它有一个可用的诊断磁盘，可以与终端对话。这允许对流量进行一些分析，有助于回答一些问题。

最终的结果是一个不完整的控制器，但它是可行的。也有不依赖过时芯片的 FPGA 版本的计划。

当然，我们希望我们有一台真正的 IBM 360。不过，你可以勉强接受一辆 as 400T2。