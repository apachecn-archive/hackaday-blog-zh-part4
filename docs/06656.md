# 隐藏恶意软件，使用 Windows XP

> 原文:[https://hack aday . com/2020/05/22/hiding-malware-with-windows-XP/](https://hackaday.com/2020/05/22/hiding-malware-with-windows-xp/)

自从第一批 PC 病毒在野外传播以来的近四十年里，恶意软件作者已经进化出一些异常聪明的方法来隐藏他们的创作，不让系统管理员和反病毒作者发现。Sophos 的研究人员发现了一种可能隐藏自己的终极特洛伊木马:[它将微小的有效载荷隐藏在 Windows XP 安装中](https://news.sophos.com/en-us/2020/05/21/ragnar-locker-ransomware-deploys-virtual-machine-to-dodge-security/)。

Windows 版本打包了一个旧版本的 VirtualBox 虚拟机管理程序，可以在上面运行。WIndows 漏洞允许 Microsoft Installer 下载整个 122 MB 的安装包，其中隐藏了虚拟机管理程序和包含 Windows XP 的 282 MB 磁盘映像。Ragnar Locker 勒索软件有效负载是 XP 映像的一个 49 kB 的微小组件，受感染的主机将在虚拟机管理程序上运行，不会受到挑战。

Sophos 分析对一些 Windows 批处理文件技巧进行了有趣的研究，这些技巧用于探测其环境并建立主机和 XP 之间的连接，让我们对完整的微软操作系统的非正统使用感到惊讶，并且似乎我们已经达到了系统膨胀的程度，在这种情况下，如此大规模的未经授权的下载和完整的微软操作系统的运行尽管是 20 年前在管理程序中运行的操作系统，却可以不被注意。然而，[不像我们已经看过的一些恶意软件故事](https://hackaday.com/2019/03/28/office-depot-and-officemax-find-malware-that-isnt-there/)，至少这个是真实的。