# 供应链攻击:脸书和其他人使用的 NPM 图书馆被攻破

> 原文:[https://hack aday . com/2021/10/22/supply-chain-attack-NPM-library-used-by-Facebook-and-others-was-compromised/](https://hackaday.com/2021/10/22/supply-chain-attack-npm-library-used-by-facebook-and-others-was-compromised/)

在 Hackaday，我们喜欢好的类型的黑客，但我们偶尔需要提出不太好的类型。今天获悉 [NPM 包 *ua-parser-js* 被泄露](https://github.com/faisalman/ua-parser-js/issues/536)，任何使用它作为库的软件都可能成为供应链攻击的受害者。什么是 *ua-parser-js* ,这有什么关系？

在计算的早期，程序员会自己编写他们使用的每一点代码。更大的团队会一起开发更大的代码库，但这都是在内部完成的。如今，软件开发人员不会编写每一段代码。相反，他们使用其他人提供的代码库。

不管是好是坏，代码库现在可以用来完成哪怕是最小的功能，这样开发者就不必从头开始编写功能了。npm(节点包管理器)就是这样一个注册中心，它组织了一个用 JavaScript 编写的库集合。人们只需要使用 npm 在他们的代码中包含一个库，开发人员就可以使用该代码的所有功能。一个这样的例子是 *ua-parser-js* ，它是一个用 JavaScript 编写的用户代理解析器。这个库使开发人员可以很容易地找到用来访问网页的设备和软件的类型。

2021 年 10 月 22 日， *ua-parser-js* 的开发者发现，攻击者上传了他的软件版本，该版本包含适用于 Linux 和 Windows 计算机的恶意软件。恶意版本被发现从电脑中窃取数据(包括密码和 Chrome cookies，可能更多)或运行加密货币挖掘器。这促使 GitHub 发布了一个[严重安全警告](https://github.com/advisories/GHSA-pjwm-rvh2-c87w)。

使这种妥协如此危险的是, *ua-parser-js* 被认为是供应链的一部分，甚至已经被脸书采用在它的一些面向客户的软件中。 *ua-parser-js* 的开发者已经保护了他的 GitHub 账户，并上传了干净的新版本包。如果你有任何使用这个库的软件，确保你有最新的版本！

当然，这绝不是一个独特的现象。上个月，Maya Posch 深入研究了日益增长的问题，这些问题源于包管理系统中的一些信任缺陷。那篇文章的艺术是纸牌搭的房子，这是一个系统的恰当比喻，这个系统的稳定性取决于所构建的每个包的安全性。