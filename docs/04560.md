# 光学键盘让我们以光速检查打字

> 原文:[https://hack aday . com/2019/11/18/optical-keyboards-have-us-examing-typing-in-light-speed-ish/](https://hackaday.com/2019/11/18/optical-keyboards-have-us-examining-typing-at-light-speed-ish/)

键盘世界有了新的发展；光学开关。它已经出现在桌面键盘上好几年了，最近也出现在笔记本键盘上。这些不能代替你的标准的 7 美元键盘，它带有橡胶薄膜开关，用来在你的树莓 pi 上闲逛。他们的目标是游戏市场。

然而，问题是，对于音响发烧友来说，这些是不是相当于巨型电缆:价格过高的身份象征？贝特里奇会感到骄傲的；简而言之，答案是否定的，有一个合理的优势，对于某些类型的使用来说，它很有意义。

## 背景

 [![Rubber dome switch for a membrane keyboard](../Images/798a0042a720457fc57154503277b263.png "membrane_switch_rubber_dome")](https://hackaday.com/2019/11/18/optical-keyboards-have-us-examining-typing-at-light-speed-ish/membrane_switch_rubber_dome/) A single sheet of rubbery material provides the spring force for each switch. [![The Cherry MX Blue keyswitch is a mechanical switch with metal contacts.](../Images/c7cbe374e879bc9e93e19356bc793b20.png "BlueMX")](https://hackaday.com/2017/11/22/a-passion-for-the-best-is-in-mechanical-keyboards/bluemx/) The Cherry MX Blue keyswitch is a mechanical switch with metal contacts.

在之前，我们[曾深入探讨过这个话题。键盘有多种风格，最便宜的是薄膜/橡胶圆顶开关。这些器件依靠一个橡胶圆顶来提供弹簧力，圆顶下侧的一个小导电垫在受压时与 PCB/薄膜接触，连接两条走线。启动后没有行程；你按下直到接触，你不能再按了。橡胶圆顶开关的额定按键次数约为 500 万次。](https://hackaday.com/2017/11/22/a-passion-for-the-best-is-in-mechanical-keyboards/)

机械开关是下一步。它们有一个向上推动按键的弹簧，按键将两个金属条压在一起，但在这种方式下，接触是在行程完成之前进行的，因此可以将按键放在边缘上，并更快地按压。当然，写 Hackaday 文章的时候，这并不重要，但是在 Hackaday 文章的评论区用连珠炮消灭你的敌人的时候，这就很关键了。这种开关的额定击键次数为 2000-5000 万次。这种键盘也因其点击感而闻名，在家里很受欢迎，在开放式办公室里却极不受欢迎。

![animated switch](../Images/362d2b18e2226c5209ef152e0c43d152.png)

Switches can either make or break the beam when closed.

闪亮的新东西是光学开关。它类似于带有弹簧的机械开关，但它没有两个接触的金属触点，而是有一块塑料，只是上下移动。在 PCB 正下方是一个红外 LED 和红外接收器。当按下开关时，它会中断光束并记录按键。通过消除金属部件，他们声称有 1 亿次按键的寿命。

还有另一种技术称为光学模拟开关，顾名思义，它返回模拟值而不是数字值，允许您测量按键的深度，并使用它来转动方向盘或加快行走，或调整按键寄存器的行程深度。只有少数键盘有这个，有的只有少数键上有。

## 大量的击键

一百万次的击键是很多的。人们的使用习惯差异很大，所以很难说键盘能用几个小时或几年，但让我们粗略估计一下。如果你每秒快速击键 4 次，你必须这样做 347 个小时才能击出 500 万次键击，并磨损你的薄膜键盘。钦定版《圣经》有 783，137 个单词，每个单词后面都有一个空格，所以在你用光你的空格键之前，你必须把全部内容打出来 6 次以上。换句话说，500 万是一个很大的击键次数，但也不是不可能。如果你喜欢 osu 这样的游戏！不过，你可能会很快达到数百万。如果你想知道你的使用需要多长时间，试着用 [WhatPulse](https://whatpulse.org/) 来获得你自己的统计数据。

## 速度陷阱:从去抖到操作系统

光开关的供应商谈论以光速开关。光学开关比机械开关更快，因为不需要去抖。这可以节省几毫秒的时间，因为大多数微控制器会等待一段时间，让触点在接受开关已改变状态以防止多次按键之前稳定下来。然而，更大的影响是键盘的扫描和处理速度。键盘有一个微控制器，不是每个键都有输入。相反，它使用多路传输，快速扫描每个键。如果扫描矩阵需要很长时间，因为它只有几个 GPIO，并且必须复用一堆东西，那么处理按键可能需要更长时间。廉价的薄膜键盘不会有游戏键盘上的更好的微控制器。

键盘处理器可能也不是最大的延迟来源。USB 2.0 的最大轮询速率为 1000Hz，但对于大多数使用低速 USB 的键盘，轮询频率为 125Hz，即 8 毫秒延迟。当然还有操作系统和处理键盘输入的应用程序的延迟，再加上显示和呈现输出所涉及的时间，或者引起反应按键的事情。在节奏很重要的游戏中，通常会调整配置选项以同步音频、视频和输入，从而消除系统延迟问题。

另一个选择是使用 USB 转 PS/2 适配器，这是一些键盘支持的。由于 PS/2 是中断驱动的，所以它可以比 USB 的 125Hz 轮询更快，但越来越少的主板有 PS/2 选项，而且不能保证它会更快。

对于任何使用键盘写作的人来说，速度并不重要。任何键盘都可以胜任最快的打字员。对于那些希望在速度和准确性的游戏中最大限度地发挥优势的人来说，将设备调整到毫秒级至关重要，那么机械键盘就有优势，光学键盘甚至有更大的优势。

然而，对于玩速度点击游戏的玩家来说，只有几个键的光学键盘是一个更小更便宜的选择，具有所有速度优势。

## 寿命

![disassembled membrane keyboard](../Images/920f0d4fc55311949b862763dea492f2.png)

The rubber sheet covers three plastic layers. Two have metal traces deposited, and an inner layer acts as a separator.

我们知道橡胶圆顶薄膜键盘是如何失败的。它们非常坚固，能够耐受液体和灰尘。当它们失效时，是因为橡胶已经疲劳、破裂或变得“糊状”并失去了弹性。可悲的是，因为整个键盘是一个单件，更换一个单独的开关是困难的，但由于它的简单性，它很容易保持干净。

机械键盘也会失灵，通常是因为金属触点被腐蚀了。虽然可以更换单个按键，但这通常需要拆焊有缺陷的按键。但至少可以做到，整个键盘不用因为一个故障就报废。

这里最大的未知是非机械部件故障。有了光学按键，没有机械接触就意味着少了一个故障点。此外，键可以完全更换，无需焊接，使得维修更加容易。然而，如果故障是电子器件本身，那么电路板被破坏，我们知道红外发光二极管褪色，或被碎片覆盖，或因溢出而损坏。假设红外 LED 在 50，000 小时后亮度下降到 50%,并开始导致检测问题，则 10 年 12 小时/天(无论是否按下按键，LED 都必须打开)。如果超出规格，则更少。是的，时间很长，但重点是光学键盘不会永远存在。

## 感觉

橡胶圆顶开关和它们相关的表亲剪刀开关，更常见于笔记本电脑和轻薄的便携式键盘，也有类似的感觉。它们直到行程结束才按下，它们都有相似的声音，力度也差不多。机械键盘提供了各种各样的选项，包括响度、驱动力和移动距离。光学开关的设计类似于机械开关，具有相同的功能范围。这纯粹是个人口味问题。

## 特征

![](../Images/3e9cc9f690ed3cf2a421f20870265a0a.png)

[Make your own keypad to try it out.](https://hackaday.com/2016/06/12/quickie-usb-keyboard-device/)

薄膜键盘很便宜，并且努力只包括便宜的特征。这就是为什么他们没有在每个键帽下都有一个 RGB。然而，开关本身不会增加太多的单位成本，所以薄膜键盘通常是带数字小键盘和媒体键的全键盘。光学和机械键盘开关每个键都很贵，所以它们的键往往较少，但下面有明亮的可配置图案来弥补。模拟光学键盘有更多的功能，包括能够根据按下的距离为单个键设置多个动作，或者具有可调整的按下距离。

## 结论

像任何其他运动或爱好一样，基本的装备对绝大多数人来说都很好。对于那些性能较高的人，或者那些只想拥有最好中的最好的人，有一整类计算机设备。如果你喜欢开关的感觉，就买一个机械键盘。如果您是一名铁杆游戏玩家，需要每毫秒的反应时间和最高水平的游戏操作，请选择光学键盘。这肯定是有区别的，数学和实验证明了这一点。不过，请准备好花一些时间进行调优，因为从手指到屏幕有很多步骤。然而，对于其他人来说，便宜的键盘是一笔很好的交易，可以持续很长时间，性能可以满足大多数需求。当然，你也可以自己制作[橡胶圆顶键盘](https://hackaday.com/2017/02/10/a-guide-for-building-rubber-dome-keyboards/)、[机械键盘](https://hackaday.com/2016/10/04/custom-keyboard-makes-the-case-for-concrete/)，或者[微型键盘](https://hackaday.com/2019/04/23/reaction-video-build-your-own-custom-fortnite-controller-for-a-raspberry-pi/)。