# Xbox 控制器提供 SWD 黑客入门

> 原文:[https://hack aday . com/2020/02/11/Xbox-controller-provides-intro-to-swd-hacking/](https://hackaday.com/2020/02/11/xbox-controller-provides-intro-to-swd-hacking/)

令人惊讶的是，在现代生活中，我们认为理所当然的“简单”设备中融入了如此多的技术。一个典型的例子是，[wrongbaud]最近决定加入的第三方 Xbox 控制器。当他打开深红色的盒子时，不知道会发生什么，他在里面找到了一个 ARM Cortex 微控制器和一个玩串行线调试(SWD)的完美借口。

尽管即使算出这么多也要花点功夫。令人沮丧的是，控制器 PCB 上所有有趣的组件都被锁在一个黑色环氧树脂块后面。他不知道是什么芯片在驱动控制器，更不知道它可能支持的调试协议。但是在用他的万用表在电路板上戳了一圈后，他最终发现了几个位于 3.3 V 的测试点，他认为这可能是某种编程标题。在观察到将标有“RES”的线拉低会重置控制器后，他相当确定自己偶然发现了一个功能正常的 JTAG 或 SWD 连接。

[![](../Images/f274c9cefb978048b857577ae1f6c9ef.png)](https://hackaday.com/wp-content/uploads/2020/02/swdintro_detail.jpg)

The Serial Wire Debug architecture.

正如[wrongbaud]在他详细的博客文章中解释的那样，SWD 是 ARM 硬件通常使用的 JTAG 的继承者。仅使用两条线(数据和时钟)，SWD 就能在引脚受限的平台上提供硬件调试功能。它允许你单步执行指令，读写内存，甚至转储固件和刷新。

在本文的其余部分，[wrongbaud]将带读者了解如何使用 SWD 目标。从编译最新版本的 OpenOCD 和将 FTDI 适配器连接到端口，一直到浏览固件和解锁芯片，以便您可以上传自己的代码。

为了证明他已经完全征服了微控制器，他通过修改固件中的 USB 描述符字符串来改变控制器插入计算机时它所显示的内容，从而结束了这篇文章。从这里开始，不需要太多的时间就可以实现一些控制器宏，比如快速射击；一个我们认为他将来会涉及的话题。

这篇文章遵循了一个熟悉的公式。作为他在硬件黑客方面持续冒险的一部分，他找到了相对便宜的消费设备，并展示了如何将它们用作逆向工程的实践试验台。你可能对[改变一个*真人快打*微型街机柜播放的 ROM](https://hackaday.com/2019/12/06/swapping-the-roms-in-mini-arcade-cabinets/)不感兴趣，但是学习用来做这件事的工具和技术对任何想让硅屈服于他们意志的人来说都是有价值的。