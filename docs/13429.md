# 认识 RouterPi，这是一款基于计算模块 4 的 GbE 路由器

> 原文:[https://hack aday . com/2022/04/22/meet-the-router pi-a-compute-module-4-based-gbe-router/](https://hackaday.com/2022/04/22/meet-the-routerpi-a-compute-module-4-based-gbe-router/)

[Zak Kemble]喜欢建造东西，几年来一直渴望各种树莓 Pi 产品，着眼于将它们作为路由器投入使用。遗憾的是，到目前为止，他们都没有提供他所期望的千兆以太网端口的原始吞吐量。当计算模块 4 出现时，他的希望重新燃起，[Zak]开始将 CM4 模块变成一个完整的千兆以太网路由器。这个项目在他的优秀网站上有文档记录，资源通过 GitHub 的链接提供给 T2。

[![](../Images/54fb8cf0e9aa871af49c904026da1c86.png)](https://hackaday.com/wp-content/uploads/2022/04/RouterPi-Bottom.jpg)

A view underneath shows off the RTC, power supply, and more.

当然，计算模块 4 只是一个模块——它被设计成内置于另一个产品中，这是它与传统的 Raspberry Pi 的众多区别之一。[Zak]设计了一个简单的双层 PCB，突破了 CM4 的主要特性。但是只有一个以太网端口的路由器，即使它是 GbE，也不是真正的路由器。[Zak]为 PCIe 总线添加了一个 Realtek RTL8111HS GbE 控制器，确保他能够获得设备的全部带宽。

花哨插件的列表相当长，但它包括这样一些简洁的黑客技术，如通过 12 V 电源为其他网络设备供电的能力，有一个关机按钮和一个硬复位按钮，甚至包括一个环境传感器(尽管他没有进入为什么……但为什么不呢，对吗？).

测试 RouterPi 发现了一些性能瓶颈，通过对软件进行一些巧妙的调整，将不同的端口和任务分配给不同的 CPU 内核，这些瓶颈得到了解决。总的来说，这是一个很棒的设备，并且已经成功地作为路由器、DNS 解析器等等——你还能从一个实验项目中要求什么呢？

这个基于 CM4 的项目与思科的第一个网络产品形成了鲜明的对比，后者在当时是创新的，但肯定没有千兆以太网。感谢[阿德里安]的提示！