# FIDO2:万维网上无密码认证的梦想

> 原文:[https://hack aday . com/2019/09/23/fido 2-the dream-of-password-free-authentic ation-on-the-www/](https://hackaday.com/2019/09/23/fido2-the-dream-of-password-free-authentication-on-the-www/)

在现代万维网所有令人烦恼的事情中，创建和记住无数密码的需求是大多数人的首要任务。从社交媒体网站到购物、公司和 Github 等生产力相关平台的数十个密码，我们一天中很大一部分时间都在处理密码。

虽然完全可以使用密码管理器来简化这个过程，但这并不能免除您维护这个列表并确保您永远不会失去对它的访问，同时确保密码管理器的凭据永远不会被泄露。无密码身份认证方法的承诺是，在这个世界里，一个人的身份可以毫无争议地得到证明，而且永远不会被窃取，因为它依赖于生物特征和硬件令牌，而不是容易复制的密码。

FIDO2 项目承诺进行网络认证，这意味着再也不用在网站上输入密码。但是像所有事情一样，它也有一些附加条件。在本文中，我们将看看 FIDO2 计划如何工作，以及它与一般的安全状态有何不同。

## 信任之网

在线安全的范围远远超出了服务器和客户端之间的连接。它从一个人自己的系统开始，从那里螺旋向外延伸到你越来越不了解的系统和个人，其直接结果是越来越不值得信任。假设一个人自己的系统是安全可靠的，它的每个部分都是已知的和经过审计的。这意味着在这些系统上存储机密是可以接受的。

在这些系统附近的直接圈子中，人们可以找到被认为相对可信的实体，例如大型购物网站或您的金融机构的在线银行功能。一般的假设是，他们尽最大努力来保护他们的系统，即使只是因为当某些事情发生时的(财务)影响，所以我们*相信*他们的服务器处于与我们的服务器相当的状态。这就是为什么你不介意把敏感信息交给他们，比如控制你的银行账户，或者你的信用卡信息。

信任网不一定关注在你和另一个实体之间建立安全连接有多容易。更重要的问题是，你是否可以信任这个实体，以及这个“安全”的连接到底有多安全。

## 我们如何确定身份

建立安全通信链路的一个重要部分是确定另一方的身份。这就是安全证书发挥作用的地方:基于某个可信机构提供的根证书，可以相对确定地确定远程端就是它所说的那样。在这里，人们隐含地信任根权威。

![](../Images/a8943e36a96c43c0788b454abe6dc1c9.png)

在[多因素认证术语](https://en.wikipedia.org/wiki/Multi-factor_authentication)中，远程服务的安全证书被视为“某人拥有的东西”，就像一个秘密对象一样。基于密码的登录所提供的是“一个人知道的东西”。涉及“某人知道的东西”和“某人拥有的东西”的双因素认证方案通常基于物理对象(密钥)和允许使用该密钥的访问代码。

这方面的例子包括 ATM 卡和与之链接的 PIN 码，或者在输入 PIN 码后生成代码的硬件设备，如网上银行常用的设备。对于双因素登录方案，将电话号码(发送带有代码的文本消息)或电子邮件地址与基于密码的登录相结合也非常常见。

## FIDO2 的前提

[FIDO2 项目](https://fidoalliance.org/fido2/)是 [FIDO](https://fidoalliance.org/) (快速身份在线)联盟和万维网联盟( [W3C](https://www.w3.org/) )的共同努力。它是之前项目的延续，特别是 [FIDO 通用第二因子](https://en.wikipedia.org/wiki/Universal_2nd_Factor) (U2F)协议，该协议涉及一个基于 USB 的硬件令牌(“你有的东西”)，充当[基于硬件的认证器](https://en.wikipedia.org/wiki/Authenticator)。FIDO2 类似，但增加了多因素身份认证。

![](../Images/161435037bbddb2662a6344387795f42.png)

FIDO2 的核心是[Web authn](https://en.wikipedia.org/wiki/WebAuthn)([Web authentic ation](https://www.w3.org/TR/webauthn-1/))标准，该标准定义了符合要求的网站、浏览器和兼容认证器的多项要求。本质上，这是一个基于公钥的安全方案，人们必须注册一个设备作为认证者。这可以是带有指纹扫描仪的笔记本电脑，Windows Hello，苹果 FaceID，或者是带有这种生物识别选项的智能手机。或者，可以使用 PIN 码来代替生物测定。

除此之外， [CTAP](https://en.wikipedia.org/wiki/Client_to_Authenticator_Protocol) (客户端到认证者协议)允许用户将智能手机等设备与笔记本电脑相链接，以使用 NFC、USB 或 BLE(如果支持)作为笔记本电脑上浏览器的认证者。不管设置如何，总会有一个注册或已经注册了认证者设备的远程服务。这类似于在 Github 这样的网站上注册他们的公共 SSH 密钥，但这也意味着您可能需要为一个服务注册两个或更多的授权码，以防其中一个丢失、被盗或变得不可用。

在这里，设备是“你所拥有的”，而生物特征是“你是什么”，或者 PIN 码或类似的东西可以提供“你知道什么”。

## 欢迎来到 90 年代

![](../Images/89bc39eb8d315ce80f51f5c9978d134f.png)

The OpenSSH logo.

在浏览器的世界之外，由于一些鲜为人知的技术，无密码登录已经很久很久了，比如安全外壳(Secure Shell)，自 1995 年创建以来，它允许用户登录远程系统(T2)而无需输入密码(T3)。这是关键基础设施的重要组成部分，允许自动任务通过安全链接与远程系统通信，而无需每次建立新连接时都需要人工(也称为系统管理员或实习生)输入密码。

如今，这种区别非常明显，例如在 GitHub 这样的网站上，与 GitHub 服务器上的 Git 存储库的交互可以通过安全 HTTP(需要用户名和密码)或 SSH(解锁私钥后不需要密码)来执行。这里有一个密码管理器，当一个人登录到一个人的 PC 时就被解锁，允许与这种安全的远程服务进行本质上无密码的交互。

## 生物识别:一个公开的秘密

根除密码使用背后的一个大前提是，它们被认为是不安全的，而生物识别技术要优越得多。这就是为什么像[面部识别](https://en.wikipedia.org/wiki/Facial_recognition_system)、[指纹识别](https://en.wikipedia.org/wiki/Fingerprint#Fingerprint_recognition)以及虹膜和手掌静脉扫描这样的系统变得非常受欢迎，尤其是至少提供一个指纹传感器的智能手机(尽管苹果因为美观而放弃了面部识别)。

[![](../Images/10196e53054c468eb88f91ba407439bf.png)](https://www.eff.org/issues/biometrics)

Graphic courtesy of the Electronic Frontier Foundation.

不幸的是，指纹扫描仪[非常不准确](https://nakedsecurity.sophos.com/2019/04/23/phone-fingerprint-scanner-fooled-by-chewing-gum-packet/)，正如我们最近报道的一样。根据德勤 2018 年的一项研究[，在智能手机上添加指纹传感器的主要原因是为了减少手机迷解锁手机的麻烦，他们平均每天会拿出手机 52 次。在这种情况下，简单的拇指或手指按下传感器或快速扫一眼前置摄像头来解锁设备似乎是天赐之物。](https://variety.com/2018/digital/news/smartphone-addiction-study-check-phones-52-times-daily-1203028454/)

在安全性方面，面部识别也不比指纹好多少。根据苹果几年前发布的一份[安全文件](https://9to5mac.com/2017/09/27/face-id-iphone-x-white-paper/)，苹果高调的 [Face ID](https://en.wikipedia.org/wiki/Face_ID) 在区分双胞胎、家庭成员和孩子方面有很大问题。本文指出，对于双胞胎、长相相似的兄弟姐妹和 13 岁以下的儿童，出于安全原因，不应使用 Face ID。

反对生物识别技术的另外两个理由是，它们是不可撤销的(你一辈子都会被它们缠住)，而且它们本身并不是秘密。虽然它们是你的一部分，但你也在公共场合戴着你的脸，在你接触的任何东西上留下你的指纹，让你的虹膜敞开着接受扫描，更不用说你有多少次把你的手掌放在可能有扫描仪的表面上。

通过让生物识别技术的复制和击败他们的扫描仪变得更加有利可图，我们可能会冒险开发更复杂的技术来绕过生物识别技术，迅速降低其作为安全选项的地位。

## 你不再有什么了

很明显，将每个人从密码转移到本质上是生物识别梦遗的安全性好处应该受到质疑，充其量是值得怀疑的。在即将到来的未来，一个人的智能手机可能被盗，并使用你留在设备上的相同指纹解锁，此后，你所有的在线账户将对现在拥有该设备的任何人开放。这就像在提款卡上写下你的个人识别码，只是涉及到更多的生物蛋白质和复杂的技术。

丢失认证设备也意味着你立即失去了访问每个需要 2FA 的帐户的权限。您可能为此做了计划，并且还将您的笔记本电脑设置为验证者，或者您周围有第二台(智能手机)设备，并且您也注册了该设备。如果你足够幸运地在这个组中，你接下来会四处奔波，登录你注册的每一个服务来解除被盗设备的链接。

## 成本和收益

归根结底，密码有许多明显的优势:

*   它们很容易改变。
*   每个服务可以有一个唯一的密码。
*   密码管理器使记住密码变得没有必要。
*   除了你，其他人都不知道。

使用类似 FIDO2 提出的 Web 认证的系统，人们将拥有用于所有服务的相同设备，没有能力改变该标识符(设备)和解锁它的“秘密”,该“秘密”不仅不是秘密，而且越来越容易复制。

![](../Images/78a455174951541e81fd07bb0a1b9603.png)

Adding a password in KeePass.

现实地说，网络认证提供的是使用生物特征、PIN 码或一些基于手势的登录的单点登录服务，与实践[正确的密码管理](https://www.wired.com/story/7-steps-to-password-perfection/)相比，其好处值得怀疑。坦率地说，当一个人输入 PIN 码或等同物，并仍然认为这是“无密码”的时候，就应该对自己的定义提出一些严肃的质疑了。

就我个人而言，多年来我一直使用完全开源的 KeePass 作为我在 Windows 上的密码管理器，这让我可以安全地管理我的密码。加密的密码数据库文件在我的所有设备上都可用，并在多个位置备份。任何在 KeePass 上工作并具有互联网访问权限的设备也为我提供了访问这些密码的权限，而小偷在设备被远程擦除之前有两个强密码可以进行暴力破解。对我来说，Web 身份验证的好处基本为零，尤其是我只有一台执行生物识别的设备(我的智能手机)。

如果 Web 身份验证的未来像 U2F 一样，它可能会在几年内引起一点轰动，然后悄悄地退休。然而谁知道呢？这可能会成为统治他们所有人的一种登录方法。你对这项技术有什么想法？你会为了未来的基于生物识别的访问而放弃你的酷密码吗？