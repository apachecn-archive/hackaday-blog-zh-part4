# 蜗牛邮件通知的简单电源管理，以最大限度地延长电池寿命

> 原文:[https://hackaday . com/2022/12/19/snail-mail-notifiers-simple-power-management-to-maximized-battery-life/](https://hackaday.com/2022/12/19/snail-mail-notifiers-simple-power-management-to-maximize-battery-life/)

在[【Zak】的 WiFi 邮件槽监视器](https://blog.zakkemble.net/mail-notifier-wifi-edition/)的长电池寿命背后，没有怪异、专门的组件，也没有深奥的睡眠模式技巧。只是一些明智的设计和对设备用途的巧妙关注:每当它检测到前门的邮件槽被打开时，就发送一个 HTTP 请求。HTTP 请求是启动有用通知的原因，但真正值得一看的是硬件设计。

观察者的主要组件是一个 ESP-M2 WiFi 模块，一个簧片开关和一个锂电池。下面是它在高层次上的工作方式:当邮件插槽打开时(由簧片开关检测)，ESP 模块通电足够长的时间以连接到本地 WiFi 网络并发送单个 HTTP 请求，之后它关闭。整个过程需要 4 到 10 秒钟。

[![](../Images/2a552f9bfce5e3c01b5b7dea2ded507f.png)](https://hackaday.com/wp-content/uploads/2022/12/front-cropped.jpg) 如前所述，电源控制不由任何不寻常的组件管理；它归结为一个具有单个反相输入的与非门，以及一个负责为 ESP 板供电的 MIC5504 3.3 V 调节器。逻辑门控制电压调节器是使能还是禁用，从而控制微控制器是否接收任何功率。大多数情况下，调节器是禁用的，但当簧片开关触发时，其与非门的输入被拉低，调节器开启，启动 ESP 板。

为了保持开启，ESP 板做的第一件事是使用 GPIO 引脚将与非门的反相输入驱动至高电平，以便保持调节器使能，它有大约半秒的窗口来完成这一操作。一旦发送 HTTP 请求(并检测到电池电压)，ESP 板将该引脚拉低，禁用调节器并自动关闭，直到簧片开关再次开始该过程。

使用七个月后，电池从 4.2 V 降至 3.9 V，因此剩余的寿命很长。如果你想把它的一些想法应用到你自己的项目中，这个项目的 GitHub 库有必要的代码。或者，你可能希望考虑用[超级电容器和太阳能代替电池](https://hackaday.com/2020/11/04/minimalist-low-power-supercapacitor-sensor-node/)。即使超高水平的节能不是你的囊中之物，当涉及 WiFi 和网络时，也有软件级别的机会来提高效率。在适当的情况下，即使是明智的 1 毫秒延迟也能节省惊人的电量。