# 穿过一个小缓冲区

> 原文：<https://hackaday.com/2019/05/18/plot-your-way-past-a-tiny-buffer/>

有一个专门的绘图仪爱好者社区，他们让自己经常老化的 X-Y 轴笔绘图设备在制造几十年后仍能使用，并在网上分享绘图仪生成的纸质艺术品。[Dhananjay Balan]被这一点所诱惑，于是通过易贝获得了一台二手 HP7440A，并着手将其投入使用。

让它恢复正常首先是通常的清洁机制和检查一切正常的过程，然后做了一点研究，发现丢失的电源是一个 10-0-10V 的交流项目。然后一些适配器和一个 USB 转串口让它和一台现代个人电脑对话，多亏了 HPGL 的奇迹，它又开始工作了。这可能是一个非常简单的故事，配得上可怕的“不是黑客”的绰号，如果焦点没有从硬件转移到软件的话。

过去，绘图仪中 60 字节的缓冲区看起来一定很大。但在 2019 年，绘图仪可以以快速填充数据的速度发送数据，之后命令不会被存储，也不会被绘制。在发送命令之间引入延迟可以解决这个问题，但代价是绘图速度非常慢。这个问题通过巧妙使用 HPGL 命令来发送笔的位置得到了解决，该命令会等到笔移动完毕后再发送其返回值。这成为一种便捷的方式来检测绘图仪何时准备好更多，允许更快的打印而没有缓冲区溢出。

绘图仪有一个扩展端口，可以插入包含三角绘图函数的可选模块，但在本例中没有。惠普的想法是缓冲区太小，以至于程序员[很难编写自己的](https://support.hp.com/us-en/document/bpp01354)，但是前一段中的缓冲区黑客解决了这个问题。所有这些以及更多的 Python 代码都在[一个方便的 GitHub 库](https://github.com/dbalan/plotter-scripts)中。

Via [黑客新闻](https://news.ycombinator.com/item?id=19889004)。