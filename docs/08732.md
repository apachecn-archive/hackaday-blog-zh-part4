# 电路虚拟现实:更多运算放大器

> 原文:[https://hack aday . com/2021/01/15/circuit-VR-even-more-op-amps/](https://hackaday.com/2021/01/15/circuit-vr-even-more-op-amps/)

在最后一个电路 VR [中，我们看了模拟器中的一些基本运算放大器电路](https://hackaday.com/2020/12/24/circuit-vr-some-op-amps/)，包括同相放大器。有时你需要一个放大器来反转信号。也就是说，5V 输入导致-5V 输出(如果放大器增益为 2，则为-10V)。这相当于 180 度相移，可用于放大器、滤波器和其他电路。让我们来看一个用 falstad 仿真的[示例电路。](https://tinyurl.com/ycy6y6ff)

## 记住规则

上次我提到了两个虚构的规则，它们是分析运算放大器电路的捷径:

1.  运算放大器的输入不连接任何内部器件。
2.  只要在物理上可能，输出会神秘地尽其所能使输入相等。

[![](../Images/8b7bee61b499b39ab85d5b3dc1808ca2.png)](https://hackaday.com/wp-content/uploads/2020/12/circuit-vr-inverting-amplifier.jpg) 作为第二条规则的推论，你可以很容易地通过把负(反相)端想象成虚地来分析这里所示的电路。它不接地，但在配置适当的运算放大器电路中，它也可能处于地电位。为什么？因为+端接地，规则 2 规定运算放大器将改变条件，以确保两个端相同。由于它不能影响+端，它将通过电阻网络驱动电压，以确保–端处于 0V。

这种虚拟接地的想法使电路的分析变得简单。在仿真中可以看到，放大器的增益为 3。因此，假设输入是 5V DC，或者，如果你喜欢，[改变电压源](https://tinyurl.com/y82sst9g)。由于–端是虚地，我们知道通过 1K 电阻的电流必须是(5-0)/1000 = 5mA。规则#1 说，输入端子不会看起来像连接到任何东西，所以这意味着通过 3K 电阻的电流也必须是 5mA，并且它的一端实际上是接地的。

那么输出电压是多少？(V-0)/3000=.005。如果你做一点高中代数，你可以把它改写成 V=.005(3000) = 15V。在现实生活中，你不会希望输出如此接近供电轨，但你明白这一点。在模拟器中，我们只指定该运算放大器模型的最大和最小输出电压，因此电源可能实际上是+/- 16V。这是我的故事，我坚持它。

## 增加

对于同相放大器，增益等于反馈网络分压比的倒数。也就是说，对于一个 1K 和 3K 电阻，分压比为 1000/(1000+3000)=1/4，因此增益为 4。这是有道理的，因为在这种情况下，我们降低运算放大器的输出电压，同时试图使两个端子相等。

对于反相放大器，增益是两个电阻的简单比值，因为设置增益的是流过两个电阻的相等电流。如果两个电阻相等，**同相**放大器的增益为 2，而**反相**放大器的增益为 1。回想一下，要在同相电路中获得单位增益，不需要任何电阻，只需要在输出和–输入之间连接一个零欧姆电阻(一根导线)。

## 有什么区别？

当然，虚拟场地的概念实际上只不过是重申规则 2。如果两个端子都有输入，则有一个差分放大器。这些很重要，原因有几个。差分放大器的最大用途之一是降低共模噪声。

[![](../Images/61d09ca2e56d158928e98669e933010d.png)](https://hackaday.com/wp-content/uploads/2020/12/2020-12-20-22.36.37-falstad.com-d91ea997ea32.png) 假设你有一个温度传感器，它根据读数发出 250 到 300 赫兹的声音。连接传感器的电线很长，你会发现交流电线发出 60 Hz 的嗡嗡声。您的输入信号可能看起来像右边的信号。60 赫兹的嗡嗡声大约是方波数据信号的 5 倍。怎么才能挽回呢？

当然有几种答案。但是，如果您观察到连接到传感器的正极和地线都会拾取嗡嗡声，一个好的答案是从正极引脚中减去返回引脚。由于两条线路上的噪声相同，因此应该减去，只留下感兴趣的信号。下面是一个消除 60 Hz 嗡嗡声的示例电路:

[![](../Images/665b832466123ab4a3d80928f00a278f.png)T2】](https://hackaday.com/wp-content/uploads/2020/12/circuit-vr-differential-amplifier.png)

这里,+端将处于输入信号的 50%。根据规则 2，这意味着–端也将处于相同的电压。假设两个输入端都有稳定的 2V 电压。+端子上将有 1V 电压。这意味着–端子也将有 1V 电压。如果输入为 1V，而–端为 1V，则输出必须为 0V，因为反馈网络就像一个分压器。无论电压如何一起变化，输出都将保持为零。

但是，如果两个输入都为 2V，而+端的输入突然自己跳到 4V，会发生什么情况呢？现在+端子处于 2V，这导致电流发生变化(本例中为零)。这意味着输出电压必须改变，以在反馈电阻中设置相同的电流。因为在这种情况下是零，所以输出也必须是 2V。

如果零电流令人困惑，[在此电路](https://tinyurl.com/yaaos7ho)中尝试不同的电压，如 3V。当您拨动开关将 3V 电压馈入电路时，由于+端为 1.5V，因此输入电阻上有 0.5V 电压，这意味着您需要相同的电流通过反馈电阻，输出将为 1V。

## 就这些吗？

使用运算放大器可以做更多的事情，但这些都要等到未来的电路虚拟现实。虽然现代运算放大器很棒，但它们仍然不够完美。输入会有一点泄漏。如果在通用运算放大器中从输出端汲取大量电流，输出端将无法达到供电轨。如果你处理的是高频，你需要仔细选择器件。精密电路可能需要注意失调调整和其它特殊设计考虑。然而，与用裸晶体管构建精密放大器相比，使用高质量运算放大器可以节省大量时间。

有许多专用运算放大器。有些依靠电流输入。有些有特殊的输出级。例如，比较器是具有高速输出级的运算放大器，往往会以某种方式快速饱和。有很多选择，取决于什么对你的设计重要。如果您想要一些关于运算放大器架构选择的课外读物，ADI 公司的 AN-360 很好地概括了这一主题。