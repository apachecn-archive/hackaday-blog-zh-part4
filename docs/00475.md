# FOSSCON 2018:黑掉 Indego 自行车共享 API

> 原文:[https://hack aday . com/2018/08/27/FOSS con-2018-hacking-the-indego-bike-sharing-API/](https://hackaday.com/2018/08/27/fosscon-2018-hacking-the-indego-bike-sharing-api/)

人们常说发明之母的必要性，但正如我们在 Hackaday 报道的大部分项目可以证明的那样，好奇心必须至少是它的继母。并不是每个项目都是从*需求*开始的，有时候只是为了了解一些东西是如何工作的。当我们看着一些不起眼的硬件或技术，并决定如果我们打开它，看看有什么溢出来，世界会变得稍微好一点时，我们都会不时地感觉到这种渴望。

几年前，当埃里克·奥卡拉汉(Eric O'Callaghan)从他费城公寓的窗户望出去，看到一些不寻常的东西时，他就有这种感觉。似乎一夜之间，他们就在街对面建起了一个自动化的 Indego 自行车共享站。看到一排浅蓝色的自行车停在他们的电子码头上，他想知道这个系统是如何工作的，以及他们可能在收集什么样的数据。他不需要租一辆自行车，他甚至已经很多年没有骑过自行车了，但是他突然有一种强烈的冲动，想穿过街道，尽可能多地了解这个系统。

他最近在费城国际大厦举行的 FOSSCON 2018 上展示了这些发现，希望其他人也有兴趣参与进来。目前，Eric 是唯一一个调查 Indego 提供的公共数据的人，由于他的个人 MySQL 数据库现已超过 1500 万行数据，他希望让一些具有大数据经验的开发人员加入竞争。他让这些数据变得有用的方法很有趣，我将在休息后深入探讨。

## Indego API

Eric 在演讲开始时解释说，Indego 提供的官方“API”根本算不上是一个真正的 API，至少不是你所期望的那样。您不能请求特定时间的数据，甚至不能请求特定位置的数据。当您发送请求时，您只需收到一个 JSON 文件，其中包含系统中所有可用数据的快照，该系统目前包含遍布全市的 120 多个站点。

[![](../Images/177601a1735824a98285ea6888f3d53f.png)](https://hackaday.com/wp-content/uploads/2018/08/indego_data.png) 所以第一步是创建一个工具，将这些数据分解成更有用的格式。[他创建了一个 PHP 库来处理这些数据](https://github.com/ericoc/indego-php-lib)，然后[又在](https://github.com/ericoc/indego-py-lib)推出了 Python 版本。有了这些库，用户可以过滤掉无关的信息，并查看单个位置的自行车数量。埃里克接着创建了一个网站,访客可以通过这个网站实时查看市内每个 Indego 站点的自行车数量。

在另一个驱使黑客思考的好奇心案例中，Eric 决定，如果他们只是要分发这些 JSON 数据，他还不如开始存储这些数据的快照。谁知道会出现什么样的有趣趋势呢？因此，他创建了一个脚本，每隔 10 分钟在他的个人服务器上向 Indego API 发送一次请求，并将结果数据添加到数据库中。他现在可以看到从 2015 年开始，某个车站在任何时间有多少辆自行车可用；他认为印度人自己可能都没有这种能力。

## 历史黑客

Indego 是否有关于自行车使用的历史数据可能是有争议的，但是对于 Eric 收集的大部分信息，肯定没有其他公共来源。这一发现让一些与会者开始集思广益，探讨利用这些信息的可能性。

一个人想知道是否有可能比较每天的数据并试图找到个人旅行者。换句话说，如果 a 站总是在上午 8:45 结账，而 b 站总是在上午 9:00 结账，你能假设你已经找到了某个人的上下班路程吗？这当然不会告诉你他们的身份，但是知道某人的时间表[可以被用作更大的社会工程攻击](http://hackaday.com/2018/07/21/hope-xiii-oh-the-fun-youll-have-with-a-bit-of-social-engineering/)的一部分。

另一位与会者指出，Indego 有一项政策，如果你试图将自行车归还给目前没有开放点的车站，你的骑行将免费延长。利用埃里克的图书馆，人们可以想象出一条穿过城市的路线，这条路线可以在满站之间来回穿梭，不断延长你的乘车时间。你可能无法逃脱很长时间，但这将是一个有趣的实验。

[![](../Images/b2dba84c138c535bad4704ab3d106824.png)T2】](https://hackaday.com/wp-content/uploads/2018/08/indego_cli.png)

## 未来的工作

展望未来，需要做的工作是记录 JSON 响应中的所有字段，因为 Eric 将自己的代码限制在他最感兴趣的数据部分(车站的位置和有多少辆自行车可用)。当添加新的电台时，或者更糟的是，当电台的 ID 号改变时，也会出现问题。最后，可以开发新的更好的可视化工具，帮助使用该系统的人使用这些数据。

埃里克承认他不是程序员，也不是数据分析专家。他只是一个有一天在公寓外看到一些有趣的东西的人。他希望 Indego 数据的这种可能性将激励其他有更多经验的人来掌控并实现该项目的全部潜力。