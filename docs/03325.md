# 声霸逆向工程

> 原文：<https://hackaday.com/2019/06/19/reverse-engineering-the-sound-blaster/>

第一个输出 PCM 音频的声卡——你需要音频样本的那种——不是声霸。AdLib 音乐合成器卡可以通过软件输出 PCM 音频。AdLib 卡在发行时的价格也是 200 美元。这对一些人来说太多了，Creative Labs Sound Blaster 及时以 125 美元的最低价发布。这是一张功能更强的卡，在过去的几年里，二手市场上的价格一路飙升。1990 年，你可以用一个半本杰明买一个声爆器，2019 年，易贝的价格将达到并超过 400 美元。

随着二手卡片的价格如此之高，我们开始进入逆向工程和重新制造整张卡片的领域。这是以前没有人做过的，但这对[Eric Schlaepfer]或[[@ tubetime us](https://twitter.com/TubeTimeUS)]来说无关紧要；他以前做过更疯狂的项目，[，这次也不例外](http://tubetime.us/index.php/2019/01/19/announcing-the-snark-barker-a-100-compatible-sb-1-0-replica/)。

在声霸逆向工程中，有一些必要的组件。声霸有一个用于声音合成的 OPL2 芯片，你可以从不同的供应商那里买到。不过，诀窍在于微控制器。这真的只是一个带有自定义掩膜 ROM 的 8051。

这个项目的目标实际上只是将 ROM 转储到类似 Intel 8051 的微控制器上。这是在高科技实验室中相对常见的事情，幸运的是，湾区有[约翰·麦克马斯特]，他会带你到他的实验室，从环氧树脂中剥离芯片。在显微镜下观察芯片，发现芯片上的掩模只读存储器是一个植入式只读存储器，基片本身的不可见离子代表 1 和 0。从纯粹的视觉检查中对该芯片进行逆向工程是没有希望的，但在其中一条数据线上有一个读出放大器。通过在运行地址空间时探测这个读出放大器，[Eric]能够一次一位地转储 ROM 的所有字节。

然而，总是有一个然而，有克隆声霸在那里，通常来自中国，你可以扔掉这些芯片，如果你足够幸运地得到一个。[Eric]联系社区，发现这些克隆微控制器没有代码保护位设置；扔掉这些很容易。这个 ROM 与[Eric]用读出放大器做的工作进行了比较，在弄清楚位的顺序后，发现代码是匹配的。代码克隆成功，现在可以制造新的声霸了。不要告诉易贝，因为有人试图以 180 美元的价格出售[埃里克]的克隆卡。

克隆声霸的所有代码、文件、材料和所有需要的东西都可以在[Eric]的 GitHub 中找到[，尽管关于声霸的微控制器中发生了什么还有一些问题。芯片上有一个“秘密”的 512 字节 ROM，除了英特尔 NDA 没有人知道它是干什么的。这可以用于生产测试，但谁知道呢。除此之外，代码中还有一些未使用的功能，如以前未知的 DSP 命令、ADPCM 查找表和不使用 DMA 从 SRAM 播放的例程。它深入探究了有史以来最流行的声卡的内部工作原理，这简直令人惊叹。](https://github.com/schlae/snark-barker)