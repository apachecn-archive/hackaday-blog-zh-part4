# 您自己的工程工作站，配备 Mame

> 原文:[https://hack aday . com/2022/07/28/your-own-engineering-workstation-with-mame/](https://hackaday.com/2022/07/28/your-own-engineering-workstation-with-mame/)

有些事情会在你的记忆中留下不可磨灭的印象。其中一件事，对我来说，是 1980 年我参加的一个技术演示会——通过打电话求助——由惠普在现在的斯坦尼斯航天中心做的演示。我是一名学生，打了几个电话就获得了一个邀请，但我最终在一个最先进的会议室里与一群美国宇航局的工程师一起观看惠普向我们讲述他们所有最新最棒的产品。提醒你一下，我可负担不起。那天真正引起我想象力的是 HP9845C，这是一台彩色图形计算机，价格大约为 4 万美元。这是 1980 年美国平均工资的两倍。当然，现在你有了一台更好的电脑，或者说，你可能有几台更好的电脑，包括你的手机。但如果你想重温那些日子，你实际上可以使用游戏模拟器来重现 HP9845C 在 1980 年的辉煌。

## 机器

[![](../Images/eff18eb5472a507a5d6bde65dafcba4c.png)](https://hackaday.com/wp-content/uploads/2022/07/9845-2.png)

The HP9845C with a Colorful Soft Key Display

请记住，IBM PC 在这一点上还有将近两年的时间，即使到那时，也无法与 HP9845C 相提并论。像它那个时代的许多机器一样，它本身运行 BASIC——事实上，它使用特殊的微码在其 16 位 5.7 MHz CPU 上相对快速地运行 BASIC 程序。560 x 455 像素的图形系统有自己的 CPU，你可以用 1.5 MB 的内存最大化它。(但可惜的是，40，000 美元让你——我想——得到了 128，000 英镑左右。)

电脑鼠标的广泛使用还是在未来，所以惠普有了那支奇妙的光笔。大容量存储也不是问题——有一个 217 kB 的磁带机，虽然早期型号有第二个驱动器和可选的热敏打印机，但这些都包括在彩色“C”型号中。像惠普计算器一样，你可以为不同的目的插入不同的只读存储器。还有其他选择，如数字化仪，甚至软盘。

这些机器寿命很短，很快就被更好的电脑取代了。然而，计算机在制作 1983 年的电影 Wargames 中发挥了关键作用，其前身 HP9845B 出现在《泰坦尼克号起航》的屏幕上。

根据惠普博物馆的说法，9845C 并不十分可靠。40 多年后，磁带机通常会老化，但电源和内存也有问题。幸运的是，我们将模拟我们的 HP9845C，因此我们不必处理任何这些问题。

那个时代几乎所有惠普电脑的另一个很酷的特点是软键系统。这些通常内置于显示器中，有时也内置于键盘中，并与屏幕上的标签对齐。因此，不用记住 F2 是搜索命令(或其他什么)，屏幕上的按钮上会有一个小标签，上面写着“搜索”很棒的东西！

## MAME

当你想到模拟一台旧电脑时，你可能会想到 SimH。然而，惠普机器本质上是非常图形化的，因此, [HP9845C 仿真器](https://www.hp9845.net/9845/projects/emulator/)的作者做出了不同的选择:MAME。你通常认为 MAME 是一个视频游戏模拟器。然而，如果你想要彩色图形，ROM 插槽和光笔，MAME 是一个不错的选择。

正如您所看到的，您可以看到 9845C 显示器充满了软键，如果您启用它，甚至光笔。您可以加载不同的图像作为 rom 和磁带。唯一棘手的部分是键盘。惠普有一个定制键盘，其工作原理与 PC 键盘略有不同。

特别是，惠普电脑通常是面向屏幕的。所以回车键通常不同于告诉计算机你准备好让它处理的键。这导致了一些有趣的键盘映射。

## 快速入门指南

事实上，[页面包含了关于模拟器](https://www.hp9845.net/9845/projects/emulator/)的大部分信息，有点难以理解，所以这可能会有所帮助。首先，您希望向下滚动到底部，获得预构建的 Linux 或 Windows 模拟器。你可以用 MAME 或者股票版本来构建——假设你的股票版本有所有正确的选项。但是更容易的是只获取预构建版本，它们可以与 MAME 的其他版本共存；即使你最终想走一条不同的路线，你可能还是应该从那里开始。

模拟器名为 45c，在 Linux 上，我必须自己让它可执行(`chmod +x`)。下面是一个典型的命令行:

```

./45c -magt1 tapes/demo1.hti -magt2 tapes/demo2.hti -ramsize 192k '-rom1 advprog' '-rom5 colorgfx' '-rom3 massd' '-rom4 strucprog' &

```

所有这些磁带和 ROM 文件都在分发存档中。你可能不需要任何 rom，但我还是加载了它们。如果您不想全屏运行，请添加`-window`。如果你这样做，你可能还想增加`-nounevenstretch`和`-nomax`选项来改善外观。

如果你想试试光笔，使用`-lightgun -lightgun_device_mouse`选项把你的鼠标变成光笔。注意这将抓取你的鼠标，你可能需要使用 Alt+Tab 或其他方法来切换离开模拟器。

网页上列出了键盘映射，但这里有一些很容易了解的:

*   回车–继续
*   右移+回车–存储
*   数字输入(或右移+Enter)-执行
*   逃离–停止
*   右移+Home–清除屏幕

因此，面对提示，您可以输入如下内容:

```

5*10-8

```

然后按数字回车键查看结果。这是一台基本的计算机，你可以输入:

```

10 PRINT "HOWDY!"

```

对吗？嗯，是的，但是你需要按存储键(右移+回车)

[![](../Images/fe2bbe178b7ab7cc962616ed3d323122.png)](https://hackaday.com/2022/07/28/your-own-engineering-workstation-with-mame/9845-list/)

A Simple BASIC Program

[![](../Images/caac83eb14747f6918573c99c3590d3b.png)](https://hackaday.com/2022/07/28/your-own-engineering-workstation-with-mame/9845-run/)

Part of the Output

如果您已经按上述方式加载了磁带(您可以使用 CAT 命令查看磁带目录)，请尝试以下方法:

```

load "autost"
run

```

[![](../Images/5e0d163034690fcaf6f8a13bc0988159.png)](https://hackaday.com/wp-content/uploads/2022/07/9845-3.png)

High tech graphics for 1980

记住在每行之后使用数字键盘回车键，而不是普通的回车键！

演示之王是 1980 年最前沿的航天飞机图片。您可以使用软键更改各种显示和绘图选项。

## 资源

当然，航天飞机只是好玩了这么久。同一盘磁带上还有许多其他演示，但最终您会想要玩一些更有趣的东西。惠普博物馆有一个很好的软件，你可能会知道如何加载。你不能下载该软件，但如果你想看看当时在一台价值 7 万美元的 HP9845B 上的游戏是什么样的，[特里·伯利森]有一些[回忆](http://www.terryburlison.com/software/hp-9845-software)和截屏。你还可以在【HP9845 主网站上找到大量的文档和其他信息。

如果模拟器能够驱动 PC 中的 HP-IB 卡或 PI 驱动你所有的旧船锚测试设备，那将会非常有趣。这甚至可能让你[连接一个硬盘驱动器](https://hackaday.com/2015/06/20/imaging-and-emulating-an-hp-ib-disk-drive/)。也许吧。