# 一个“非 busy”的 USB-C 端口，用于 JTAG 编程

> 原文:[https://hack aday . com/2022/02/24/an-un busy-USB-c-port-doubles-up-for-JTAG-programming/](https://hackaday.com/2022/02/24/an-unbusy-usb-c-port-doubles-up-for-jtag-programming/)

电路板空间是小型电路板设计的一大优势，[Alvaro]对此心知肚明。因此，他没有添加单独的编程端口，而是找到了一个合适的 USB-C 功能，让他可以使用他已经添加的端口*、主要应用*的*和通过 JTAG 编程目标微控制器的*。结果是他不再需要担心为一个微小的编程端口花费宝贵的板空间；USB-C 端口为两者分时使用！

在 Twitter 帖子 ( [展开的链接](https://threadreaderapp.com/thread/1495860045728395278.html))中，【阿尔瓦罗】向我们展示了他的发现和封装解决方案的进展。原来，USB-C 规范支持“调试附件模式”规范，其中如果引脚 CC1 和 CC2 上拉至逻辑 1，则允许重新使用一些引脚。在这种情况下，pin 功能被释放，JTAG 程序员可以借用它们。为了向程序员展示这个端口，[Alvaro]设计了一个小型分线板，上面有一个 USB-C 插头和独立的微控制器。

这个板也处理一个小怪癖。由于[阿尔瓦罗的]编程引脚的选择是不可逆的，USB-C 插头只能以两种方式之一插入。为了让用户随时了解情况，这个分线板有一个红色 LED 指示不正确的方向，一个绿色 LED 指示正确的方向——非常漂亮。虽然这种设计怪癖牺牲了可逆性，但它保留了 USB 2.0 D+和 D-引脚，同时还处理了一些关于端口访问协商的边缘情况。

浏览[阿尔瓦罗]的 Twitter 帖子，获取进展图片和更多关于他选择大头针的理由的细节。谁知道呢？随着对 USB-C 特性的更多关注，也许我们会看到这种编程接口成为规范？

[阿尔瓦罗]对黑客日并不陌生。事实上，让我们回顾一下我们的第一个超级英雄 T1，看看他如何在过去的 DEFCON 挑战赛中向移动目标发射激光得分