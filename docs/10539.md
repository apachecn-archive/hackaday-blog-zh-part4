# 本周安全:阴谋洪水，现代战争，等等！

> 原文：<https://hackaday.com/2021/06/25/this-week-in-security-schemeflood-modern-wardialing-and-more/>

还有另一种技术被发现可以对用户进行指纹识别，这种技术甚至可以在 Tor 浏览器中使用。 [Scheme flooding](https://fingerprintjs.com/blog/external-protocol-flooding/) 通过调用应用程序 URL 来工作，类似于`steam://browsemedia`。如果您的机器支持请求的自定义 URL，将显示一个弹出窗口，询问是否允许启动外部应用程序。浏览器中的 JavaScript 可以检测到该弹出窗口。检测到足够多的应用程序，你就可以为运行测试的系统建立一个合理的指纹。与以前的一些指纹识别技术不同，这种技术不依赖于浏览器——理论上它对任何浏览器都会给出相同的结果。这意味着，即使是 Tor 浏览器，或任何通过 Tor 网络使用的浏览器，也可能泄露您潜在的独特的已安装程序集。

现在是好消息。Chrome 开发者已经在解决这个问题了，事实上，我的 Linux 桌面上的 Chrome 并没有以一种有用的方式回应这些问题。请随意[查看演示](https://schemeflood.com/)，看看结果是否准确。至于 Tor，如果你真的需要匿名的话，你真的应该在一个专用的系统或者一个虚拟机上运行。如果你不想让互联网在你的电脑上运行代码，请禁用 JavaScript。


## 翻译中丢失的 Samba 安全性

Windows 系统安全和 Linux 系统安全差别很大。好吧，这可能有点轻描淡写，但也很明显。在像 Samba 这样重新实现服务器消息块协议的项目中，这些差异是一个持续的挑战。有时，就像在 CVE-2021-20254 的情况下，结果是不寻常的。

这个故事真正开始于林雪平大学，在那里[皮特·埃里克松]发现有人能够删除 Samba 共享上的文件，而这本来是不可能的。他显然找到了问题所在，问题出在将 Windows SIDs 映射到 Unix 组 id 的 Samba 代码中。Samba 缓存这些查找，缓存的结果可能是找不到匹配。当缓存的响应再次被读取时，错误被触发，读取超过了缓冲区的结尾。没有已知的技术来故意触发这个错误，但这可能是想象力的失败，所以请确保您得到这个补丁。

## 21 世纪芬兰战争

仍有一些奇怪的机器连接到普通老式电话系统(POTS)上。这种想法显然让[Valtteri Lehtinen]夜不能寐，因为他建立了一个系统来拨打 56，874 个不同的电话号码，然后[记录他发现的内容](https://shufflingbytes.com/posts/wardialing-finnish-freephones/)。他的测试装备有点奇怪，使用 [WarVOX](https://github.com/rapid7/warvox) 作为拨号器。该程序只支持 IAX2，这是一种由 Asterisk 项目引入的 VoIP 协议，因为支持 SIP 而被遗忘。他与外界的接口是一个 SIP 到 GSM 的网关和一个便宜的预付费 SIM 卡。为了让 WarVOX 与 SIP 网关对话，他建立了一个星号实例来进行翻译。他的目标是“免费电话”号码，类似于美国的 1-800 号码——主要是企业而不是个人。

他每次通话花费 60 秒，并记录下结果，实验进行了 40 天。他的结果？大约 2%的数字是有趣的。他对这些进行了分类，并总结出了他接触过的 74 个独特的系统。举个例子说明这意味着什么，他的 7 个电话都是通过专用传真线路打的。这些彼此无法区分，所以只能说明一个独特的系统。11 个电话只是播放音乐，但其中几个似乎在播放完全相同的音乐，形成了 7 个独特的系统。

[瓦尔特里]发现了一些非常奇怪的录音。两个号码包含一个关于僵尸启示录的提示，询问呼叫者是否想被营救。这些让我想起了各种各样的笑话电话号码，比如拒绝热线。他还发现了几个听起来很像老式机械电话交换硬件的数字。确切地知道这些电话的另一端是什么硬件不是很有趣吗？我们不建议把战斗作为一种爱好，但肯定还是有一些有趣的终点。想亲自看看录音吗？查看他的博客帖子，那里有许多录音可供收听。

## 不要连接到那个 Wifi 网络！

本周，iPhone 有一个非常奇怪的问题吸引了很多关注。连接到名称类似`%p%s%s%s%s%n`的 WiFi 网络会使手机的 WiFi 子系统崩溃，并阻止连接到任何其他网络。那根弦看起来很有趣，不是吗？几乎就像一个格式字符串。对于那些不理解的人，大多数编程语言都有字符串格式化函数，这些函数接受一系列输入，结合一个像这样的格式字符串，并将输入插入到字符串中。c 的`printf()`是我们很多人比较熟悉的一个。这里的问题是，当输入与字符串要求的不匹配时，您就进入了未定义行为的领域，也就是崩溃和漏洞。

> 使用 SSID“% p % s % s % s % s % n”加入我的个人 WiFi 后，我的 iPhone 永久禁用了它的 WiFi 功能。重启和改变 SSID 都不能解决这个问题:~)[pic.twitter.com/2eue90JFu3](https://t.co/2eue90JFu3)
> 
> —卡尔·肖(@ VM _ call)[2021 年 6 月 18 日](https://twitter.com/vm_call/status/1405937492642123782?ref_src=twsrc%5Etfw)