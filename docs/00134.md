# HOPE XII:面向电子阅读器的自由/开源软件操作系统

> 原文:[https://hack aday . com/2018/07/25/hope-XII-a-FOSS-operating-system-for-e-readers/](https://hackaday.com/2018/07/25/hope-xii-a-foss-operating-system-for-e-readers/)

在第十二届希望大会期间的许多会谈中，自由和开放源码软件是一个反复出现的主题，这可能并不令人惊讶。黑客们不喜欢被不知名的公司老板监视，也不喜欢被告知在他们购买的硬件上能做什么和不能做什么。用自由/开源软件替代专利软件是将控制权交还给用户的一种方式，因此自然有许多讨论推动了这一想法。

在大多数情况下，建议你把你的 Windows 或 Mac OS 电脑转移到一个更开放的操作系统，比如 GNU/Linux。如果你正在寻找软件自由，这是一个合理的建议，但在 2018 年将这种想法限制在桌面上有点古怪。我们越来越依赖于移动计算设备，而且这些设备往往不仅被封闭的专有操作系统牢牢锁定，还被“围墙花园”式的内容交付系统牢牢锁定。如果你随身携带一个专有的移动设备，在你的桌面上运行所有的自由/开源软件有什么意义呢？

正是这种想法让马克·朱尔对将自由/开源操作系统引入电子阅读器设备的可能性产生了兴趣。在他的演讲中“*用 fread.ink 解放你的电子书阅读器！”他举了一些例子，比如亚马逊臭名昭著的远程删除用户 Kindles 上的 *1984* ，作为这些公司对我们的个人设备施加控制的完美例子。马克认为目标应该是[用一个自由软件替代品](https://fread.ink)完全取代这些设备上的操作系统，该软件仍然保留打开电子书格式的能力。这不仅会让亚马逊(Amazon)或巴诺书店(Barnes and Noble)之类的网站远离我们的阅读习惯，还会让这些廉价的阅读器变成功能更强的设备。*

## 硬件目标

马克从目前市场上的电子阅读器类型及其硬件规格的概述开始了他的演讲。不出所料，亚马逊 Kindle 是最常见的型号，遥遥领先，其余市场由 Barnes and Noble 的 Nook 和 Kobo reader 的各种型号组成。

事实证明，这些设备在内部都非常相似。每个主流阅读器都使用飞思卡尔 i.MX6 芯片，Marc 认为这是因为它内置了电子纸控制器。它们都使用非常相似的电子纸面板，主要是因为在这个领域几乎没有竞争。

最终结果是，虽然软件和附加内容市场不同，但大多数阅读器在内部几乎是相同的。这应该可以相对容易地创建一个可以安装在大多数阅读器上的通用操作系统，尽管目前的重点是第四代和第五代 Kindle 设备，因为它们非常受欢迎，可以广泛用于测试和开发。

幸运的是，我们不必从头开始。所有这些阅读器都运行 Linux，制造商在 GPL 条款下发布他们的代码方面做得很好。Marc 报告称，亚马逊提供了他们所有修改过的软件包及其内核源代码，这对于找到让软件在 Kindle 上运行所需的更改非常有价值。Kindle 还[提供了一个串行端口，允许本地登录](https://hackaday.com/2015/02/18/unlock-your-demo-kindle-paperwhite/)，这使得从运行的设备上测试二进制文件和内核变得容易，而不必对系统软件进行任何永久性的更改。

## 漫长旅程的第一步

马克在他的演讲中展示了通过串口在 Kindle 上运行 Linux 程序是多么容易。甚至还有一个应用程序启动器，可以让你将程序快捷方式添加到 Kindle 的图书馆中，就像它们是书一样。但是，尽管这可以帮助解决 Kindle 的一些缺点(例如无法读取 EPUB)，但这并不能改变我们仍然无法完全控制系统的事实。

有了在 Kindle 上运行二进制文件的能力和亚马逊在 GPL 下发布的引导程序，Marc 拥有了开始将 Debian 移植到系统上所需的一切。不幸的是，Debian 使用的 glibc 不再支持 Kindle 运行的内核。由于缺乏将更现代的内核移植到 Kindle 的技术经验(尽管他提到他愿意与任何愿意接受挑战的人合作)，他被迫用不同的标志重新编译 glibc。

Marc 尝试了几种交叉编译环境，从使用 ODROID SBC 到使用安装了 Busybox 的旧三星 Galaxy S5 手机。最后，他发现桌面上的 QEMU 是最方便的，很快他就能编译一个可以在 Kindle 上启动的 Debian 版本。

但是与让 X 在电子纸屏幕上运行相比，这一切都很容易。这些显示器的工作方式与普通的计算机显示器不同，让图形工作需要大量的工作和代码。内核需要特定于显示器的信息，称为“波形”,描述显示器及其性能。不幸的是，这些波形没有得到很好的记录，Marc 不得不编写自己的软件来处理数据。然后，他必须为窗口管理器想出补丁，防止整个显示不断更新；与你想在电子纸显示器上看到的相反。

## 项目状态

截至目前，马克的第五代 Kindle 基本上还能用。图形、硬件按钮和 USB 网络工作正常。WiFi 还需要一些工作，新的电子书阅读器程序正在取得进展，因此 Kindle 在运行这个新的 GNU/Linux 操作系统时仍然可以实现其最初的目的。他希望在今年年底之前有一个稳定的操作系统版本，以及一个易于使用的安装程序，不需要对硬件进行任何修改。

有多少人可能得到一个过时的 Kindle，把它从亚马逊母舰上断开，并在上面安装一个 Debian 的变种？大概很少。但这不是重点。那些想要的人会有选择权。随着时间的推移，硬件兼容性会变得更好，进入的壁垒会降低。如果运气好的话，也许会有足够多的人运行自由/开源软件驱动的电子阅读器，制造商开始注意到这一点，并开始提供安装新系统软件的官方选项，就像现在一些 Android 设备一样。我们不知道未来会发生什么，但这是非常有希望的第一步，肯定引起了我们的注意。