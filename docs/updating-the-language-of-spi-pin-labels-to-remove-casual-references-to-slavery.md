# 更新 SPI 引脚标签的语言，删除对奴隶制的随意提及

> 原文：<https://hackaday.com/2020/06/29/updating-the-language-of-spi-pin-labels-to-remove-casual-references-to-slavery/>

今天早上，开源硬件协会(OSHWA)宣布了一项改变硬件和数据手册中 SPI(串行外设接口)引脚标记方式的决议。该协议最初包括 MOSI/MISO 参考，代表“主机输出、从机输入”和“主机输入、从机输出”。一些公司和个人多年来已经停止使用这些术语，但由 Sparkfun 的 Nathan Seidle 领导的一项努力正在影响广泛的变化。

SPI 引脚标签的新语言建议将 SDO/SDI(串行数据输出/输入)用于单功能硬件，将 COPI/CIPO 用于“控制器输出、外设输入”和“控制器输入、外设输出”，用于既可以是控制器也可以是外设的器件。这一变化还将“SS”(从机选择)引脚更新为使用“CS”(片选)。

SPI 广泛应用于嵌入式系统设计，出现在各种器件中，从数据手册、应用笔记到在线发布的书面和视频教程，引脚标签在各种场合都出现过无数次。改变标签删除了对奴隶制不必要的参考，而不影响技术本身。这一举措使嵌入式工程更具包容性，这是一个很容易实现的理想。

[2022 编者按: [OSHWA 将其推荐命名更改为 PICO/POCI](https://www.oshwa.org/a-resolution-to-redefine-spi-signal-names/) ，用于“外设输入，控制器输出”和“外设输出，控制器输入”。我们没问题！我在本文的其余部分对此进行了更新，因为它根本没有改变 Mike 最初的观点。]

## 技术本身

尽管术语需要更新，但 SPI 数据线的设计方法是所有协议中最好的，因为*O*I/*I*O 格式会保持不变，即使器件发生变化。当想到一个既可以充当“控制器”又可以充当“外设”的微控制器时，这是最容易理解的。控制器总是在微微线上发送数据(控制器输出)，并在 POCI 上接收数据(控制器输入)。现在，扮演外围设备角色的同一设备保留完全相同的引脚标签。它只是开始在微微线上监听(外围设备输入)并在 COPI 线上发送(外围设备输出)。在这种命名方案下，控制器总是控制时钟的设备。

SDI/SDO 标签最常出现在缺乏 SPI 控制器功能的器件上(比如传感器或 LCD 屏幕)。但问题是，当一个设计中有三个或更多芯片时，哪些 SDI 线连接到 SDO 线？即使是两个芯片，如果一个端口叫 SDI，另一个叫 SDO，那你给线分配什么名字呢？这又是一个 [UART RX/TX 问题](https://hackaday.com/2016/06/22/what-could-go-wrong-asynchronous-serial-edition/)。

保留皮可/POCI 范例，在没有任何功能知识的情况下回答了这个问题:所有皮可线应该彼此连接，所有 POCI 线也应该如此。太棒了。

## 我们都可以决定做出这种改变

SPI 是一个事实上的标准，由摩托罗拉在 20 世纪 80 年代发布。它简单而有效，与 I2C 一起成为最广泛使用的两种芯片间通信协议之一。但它不受统治机构的控制。这意味着，要更改引脚名称，只需让人们决定我们是否应该更改它们。这就是这里正在发生的事情。

随着像 Sparkfun 和 Adafruit 这样的硬件制造商，以及开源硬件协会采用 SDO/SDI 和 PICO/POCI 标签，这一努力有了一个飞跃性的开始。我鼓励您在自己的原理图、软件和文档中进行更改。

硬件世界并不是唯一一个将奴隶制从设计规范中删除的地方。OpenZFS 项目将代码库中对“slave”的引用更改为“dependent ”,这也是变量名的缩写“dep”。Ars Technica [上发表的一篇关于 OpenZFS](https://arstechnica.com/tech-policy/2020/06/openzfs-removed-master-slave-terminology-from-its-codebase/?comments=1) 变更的文章还引用了互联网工程任务组(IETF)标准组织[发表的一篇论文，该论文建议将压迫性语言从已定义的标准中包含出来](https://tools.ietf.org/id/draft-knodel-terminology-00.html)。

奴隶制的历史是黑暗和令人不安的，它在工程中的随意包含可能是有害的。在这个由对种族不平等、系统性种族主义和执法暴力的大规模抗议引发的反思时代，这是硬件世界应该选择采纳的一个微小但有意义的变化。我希望很久以前就通过了。