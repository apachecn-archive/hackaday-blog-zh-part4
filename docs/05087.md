# 补丁，否则你的固态硬盘会翻车而死

> 原文:[https://hack aday . com/2019/12/10/patch-or-your-solid-state-drives-roll-over-and-die/](https://hackaday.com/2019/12/10/patch-or-your-solid-state-drives-roll-over-and-die/)

电脑硬盘的有效期？这就是一系列惠普固态硬盘面临的问题，因为它们的正常运行时间计数器的变量即将耗尽。当它发生时，驱动器“过期”,那么，你就没有更多的数据存储了！

当软件开发人员掌握他们的艺术时，在他们的发展过程中有一系列的阶段，其中一个阶段是理解到虽然他们可能已经掌握了由他们的开发环境所呈现的抽象世界，但是他们可能还没有考虑到生活在它后面的真正的计算机侵入的时刻。例如，想想你第一次在网站上看到 SQL 注入攻击，或者你意识到变量类型与它为其保留的内存位置数量的物理限制有关的那一刻。因此，写软件的人在自己周围放了一堆他们在编码时要注意的东西，从而努力生产出不太可能崩溃的软件。在这个舞台上，最重要的是你使用的变量的大小，以及当达到这个极限时会发生什么。

## 你的驾驶技术可以用 3 年零 9 个月

有时，即使是应该更了解的开发人员也会犯错误，本周硬件巨头惠普的企业部门就出现了一个不幸的例子。他们的制造商通知他们，企业存储系统[中提供的某些型号的固态硬盘驱动器包含一个不幸的错误](https://support.hpe.com/hpsc/doc/public/display?docId=emr_na-a00092491en_us)，在 32，768 小时的正常运行时间后，它们将停止工作。对于任何使用基数为 2 的数字的人来说，这是一个熟悉的数字，并且暗示了一个 16 位有符号整数用于记录正常运行时间。当它翻转过来的时候，价值将会是负的，这种驱力不再相信自己会重新焕发青春，而是会停止工作。

鸡蛋在存储公司的脸上，还有一个紧急发布的补丁。我们怀疑，如果您拥有一堆这样的硬盘，您应该已经知道这个问题，并且正在紧张地在数据中心的机架上踱步。

[![Have you ever considered what will happen when this rolls over? Bruce W. Stracener [Public domain]](../Images/5b523a907314432576c6a219351a662c.png)](https://hackaday.com/wp-content/uploads/2019/12/894px-Pine_Bluff_McDonalds_1962_Sign.jpg) 

有没有考虑过这样翻车会怎么样？Bruce w . strace ner[[Public domain]](https://commons.wikimedia.org/wiki/File:Pine_Bluff_McDonalds_1962_Sign.jpg)

这确实提出了一个问题，即这样一个问题将如何在 2019 年出现。我们可以原谅 20 世纪 60 年代或 70 年代的开发人员使用有限大小的变量来存储递增的数字，因为他们很少经历过翻转错误，而且他们那个时代的硬件经常受到严重限制。但是，当我们接近 21 世纪的第三个十年时，我们应该既有经验又有硬件来避免这个陷阱。

这并不是说没有一系列广为宣传的延期，例如 2000 年所谓的“千年虫”，它已经进入我们的文化，以至于在《辛普森一家》 和无数其他地方被模仿。我们有关于麦当劳汉堡销量滚动的笑话，更严肃的是[我们已经看到太空探测器坠毁](https://en.wikipedia.org/wiki/Deep_Impact_(spacecraft)#Contact_lost_and_end_of_mission)，作为一个行业，我们已经着眼于 2038 年的 UNIX 时间滚动。对于今天仍然是一件事，我们错在哪里？

## 我们应该如何找到我们的固件开发人员？

这是一个我们必须问自己的问题，摩尔定律的影响会导致自满吗？当您为其编写代码的所有计算设备实际上都拥有无限的资源时，您会忘记硬件的限制吗？

这是我作为一名黑客写手在资源非常有限的情况下从一次形成性的计算经历中写出来的，他的第一台机器是一台只有 1k 内存的 8 位家用计算机。有了这些，或者作为一个更现代的等效物，为一个更小的微控制器编码的经验，在完全了解代码背后的机器的情况下进行开发成为了第二天性。当一个变量需要两个字节时，你*知道*它需要两个字节，因为你必须确保在内存中有两个字节的空间给它。相比之下，在现代 IDE 中为高规格机器声明整数变量时，很容易忘记它的实际效果是保留两个字节，因此它最多只能计数 32，768 个字节。

也许这永远不会是一个彻底消失的问题。毕竟，每一代人都必须以艰难的方式了解这一点，当另一颗卫星坠毁或企业服务器出现故障时，老手们会明智地点头。同时，一如既往地早打补丁，勤打补丁。

标题图片:Phrontis [ [CC BY-SA 3.0](https://commons.wikimedia.org/wiki/File:BetriebsstundenzaehlerGE_mod03_res.jpg) 。